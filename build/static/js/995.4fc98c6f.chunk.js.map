{"version":3,"file":"static/js/995.4fc98c6f.chunk.js","mappings":"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","sources":["../node_modules/html-to-image/src/util.ts","../node_modules/html-to-image/src/clone-pseudos.ts","../node_modules/html-to-image/src/mimes.ts","../node_modules/html-to-image/src/dataurl.ts","../node_modules/html-to-image/src/clone-node.ts","../node_modules/html-to-image/src/embed-resources.ts","../node_modules/html-to-image/src/embed-images.ts","../node_modules/html-to-image/src/apply-style.ts","../node_modules/html-to-image/src/embed-webfonts.ts","../node_modules/html-to-image/src/index.ts","../node_modules/lodash.isequal/index.js","../node_modules/qrcode-generator/qrcode.js","../node_modules/react-qrcode-logo/dist/index.js"],"sourcesContent":["import type { Options } from './types'\n\nexport function resolveUrl(url: string, baseUrl: string | null): string {\n  // url is absolute already\n  if (url.match(/^[a-z]+:\\/\\//i)) {\n    return url\n  }\n\n  // url is absolute already, without protocol\n  if (url.match(/^\\/\\//)) {\n    return window.location.protocol + url\n  }\n\n  // dataURI, mailto:, tel:, etc.\n  if (url.match(/^[a-z]+:/i)) {\n    return url\n  }\n\n  const doc = document.implementation.createHTMLDocument()\n  const base = doc.createElement('base')\n  const a = doc.createElement('a')\n\n  doc.head.appendChild(base)\n  doc.body.appendChild(a)\n\n  if (baseUrl) {\n    base.href = baseUrl\n  }\n\n  a.href = url\n\n  return a.href\n}\n\nexport const uuid = (() => {\n  // generate uuid for className of pseudo elements.\n  // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n  let counter = 0\n\n  // ref: http://stackoverflow.com/a/6248722/2519373\n  const random = () =>\n    // eslint-disable-next-line no-bitwise\n    `0000${((Math.random() * 36 ** 4) << 0).toString(36)}`.slice(-4)\n\n  return () => {\n    counter += 1\n    return `u${random()}${counter}`\n  }\n})()\n\nexport function delay<T>(ms: number) {\n  return (args: T) =>\n    new Promise<T>((resolve) => {\n      setTimeout(() => resolve(args), ms)\n    })\n}\n\nexport function toArray<T>(arrayLike: any): T[] {\n  const arr: T[] = []\n\n  for (let i = 0, l = arrayLike.length; i < l; i++) {\n    arr.push(arrayLike[i])\n  }\n\n  return arr\n}\n\nfunction px(node: HTMLElement, styleProperty: string) {\n  const win = node.ownerDocument.defaultView || window\n  const val = win.getComputedStyle(node).getPropertyValue(styleProperty)\n  return val ? parseFloat(val.replace('px', '')) : 0\n}\n\nfunction getNodeWidth(node: HTMLElement) {\n  const leftBorder = px(node, 'border-left-width')\n  const rightBorder = px(node, 'border-right-width')\n  return node.clientWidth + leftBorder + rightBorder\n}\n\nfunction getNodeHeight(node: HTMLElement) {\n  const topBorder = px(node, 'border-top-width')\n  const bottomBorder = px(node, 'border-bottom-width')\n  return node.clientHeight + topBorder + bottomBorder\n}\n\nexport function getImageSize(targetNode: HTMLElement, options: Options = {}) {\n  const width = options.width || getNodeWidth(targetNode)\n  const height = options.height || getNodeHeight(targetNode)\n\n  return { width, height }\n}\n\nexport function getPixelRatio() {\n  let ratio\n\n  let FINAL_PROCESS\n  try {\n    FINAL_PROCESS = process\n  } catch (e) {\n    // pass\n  }\n\n  const val =\n    FINAL_PROCESS && FINAL_PROCESS.env\n      ? FINAL_PROCESS.env.devicePixelRatio\n      : null\n  if (val) {\n    ratio = parseInt(val, 10)\n    if (Number.isNaN(ratio)) {\n      ratio = 1\n    }\n  }\n  return ratio || window.devicePixelRatio || 1\n}\n\n// @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas#maximum_canvas_size\nconst canvasDimensionLimit = 16384\n\nexport function checkCanvasDimensions(canvas: HTMLCanvasElement) {\n  if (\n    canvas.width > canvasDimensionLimit ||\n    canvas.height > canvasDimensionLimit\n  ) {\n    if (\n      canvas.width > canvasDimensionLimit &&\n      canvas.height > canvasDimensionLimit\n    ) {\n      if (canvas.width > canvas.height) {\n        canvas.height *= canvasDimensionLimit / canvas.width\n        canvas.width = canvasDimensionLimit\n      } else {\n        canvas.width *= canvasDimensionLimit / canvas.height\n        canvas.height = canvasDimensionLimit\n      }\n    } else if (canvas.width > canvasDimensionLimit) {\n      canvas.height *= canvasDimensionLimit / canvas.width\n      canvas.width = canvasDimensionLimit\n    } else {\n      canvas.width *= canvasDimensionLimit / canvas.height\n      canvas.height = canvasDimensionLimit\n    }\n  }\n}\n\nexport function canvasToBlob(\n  canvas: HTMLCanvasElement,\n  options: Options = {},\n): Promise<Blob | null> {\n  if (canvas.toBlob) {\n    return new Promise((resolve) => {\n      canvas.toBlob(\n        resolve,\n        options.type ? options.type : 'image/png',\n        options.quality ? options.quality : 1,\n      )\n    })\n  }\n\n  return new Promise((resolve) => {\n    const binaryString = window.atob(\n      canvas\n        .toDataURL(\n          options.type ? options.type : undefined,\n          options.quality ? options.quality : undefined,\n        )\n        .split(',')[1],\n    )\n    const len = binaryString.length\n    const binaryArray = new Uint8Array(len)\n\n    for (let i = 0; i < len; i += 1) {\n      binaryArray[i] = binaryString.charCodeAt(i)\n    }\n\n    resolve(\n      new Blob([binaryArray], {\n        type: options.type ? options.type : 'image/png',\n      }),\n    )\n  })\n}\n\nexport function createImage(url: string): Promise<HTMLImageElement> {\n  return new Promise((resolve, reject) => {\n    const img = new Image()\n    img.decode = () => resolve(img) as any\n    img.onload = () => resolve(img)\n    img.onerror = reject\n    img.crossOrigin = 'anonymous'\n    img.decoding = 'async'\n    img.src = url\n  })\n}\n\nexport async function svgToDataURL(svg: SVGElement): Promise<string> {\n  return Promise.resolve()\n    .then(() => new XMLSerializer().serializeToString(svg))\n    .then(encodeURIComponent)\n    .then((html) => `data:image/svg+xml;charset=utf-8,${html}`)\n}\n\nexport async function nodeToDataURL(\n  node: HTMLElement,\n  width: number,\n  height: number,\n): Promise<string> {\n  const xmlns = 'http://www.w3.org/2000/svg'\n  const svg = document.createElementNS(xmlns, 'svg')\n  const foreignObject = document.createElementNS(xmlns, 'foreignObject')\n\n  svg.setAttribute('width', `${width}`)\n  svg.setAttribute('height', `${height}`)\n  svg.setAttribute('viewBox', `0 0 ${width} ${height}`)\n\n  foreignObject.setAttribute('width', '100%')\n  foreignObject.setAttribute('height', '100%')\n  foreignObject.setAttribute('x', '0')\n  foreignObject.setAttribute('y', '0')\n  foreignObject.setAttribute('externalResourcesRequired', 'true')\n\n  svg.appendChild(foreignObject)\n  foreignObject.appendChild(node)\n  return svgToDataURL(svg)\n}\n\nexport const isInstanceOfElement = <\n  T extends typeof Element | typeof HTMLElement | typeof SVGImageElement,\n>(\n  node: Element | HTMLElement | SVGImageElement,\n  instance: T,\n): node is T['prototype'] => {\n  if (node instanceof instance) return true\n\n  const nodePrototype = Object.getPrototypeOf(node)\n\n  if (nodePrototype === null) return false\n\n  return (\n    nodePrototype.constructor.name === instance.name ||\n    isInstanceOfElement(nodePrototype, instance)\n  )\n}\n","import { uuid, toArray } from './util'\n\ntype Pseudo = ':before' | ':after'\n\nfunction formatCSSText(style: CSSStyleDeclaration) {\n  const content = style.getPropertyValue('content')\n  return `${style.cssText} content: '${content.replace(/'|\"/g, '')}';`\n}\n\nfunction formatCSSProperties(style: CSSStyleDeclaration) {\n  return toArray<string>(style)\n    .map((name) => {\n      const value = style.getPropertyValue(name)\n      const priority = style.getPropertyPriority(name)\n\n      return `${name}: ${value}${priority ? ' !important' : ''};`\n    })\n    .join(' ')\n}\n\nfunction getPseudoElementStyle(\n  className: string,\n  pseudo: Pseudo,\n  style: CSSStyleDeclaration,\n): Text {\n  const selector = `.${className}:${pseudo}`\n  const cssText = style.cssText\n    ? formatCSSText(style)\n    : formatCSSProperties(style)\n\n  return document.createTextNode(`${selector}{${cssText}}`)\n}\n\nfunction clonePseudoElement<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  pseudo: Pseudo,\n) {\n  const style = window.getComputedStyle(nativeNode, pseudo)\n  const content = style.getPropertyValue('content')\n  if (content === '' || content === 'none') {\n    return\n  }\n\n  const className = uuid()\n  try {\n    clonedNode.className = `${clonedNode.className} ${className}`\n  } catch (err) {\n    return\n  }\n\n  const styleElement = document.createElement('style')\n  styleElement.appendChild(getPseudoElementStyle(className, pseudo, style))\n  clonedNode.appendChild(styleElement)\n}\n\nexport function clonePseudoElements<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n) {\n  clonePseudoElement(nativeNode, clonedNode, ':before')\n  clonePseudoElement(nativeNode, clonedNode, ':after')\n}\n","const WOFF = 'application/font-woff'\nconst JPEG = 'image/jpeg'\nconst mimes: { [key: string]: string } = {\n  woff: WOFF,\n  woff2: WOFF,\n  ttf: 'application/font-truetype',\n  eot: 'application/vnd.ms-fontobject',\n  png: 'image/png',\n  jpg: JPEG,\n  jpeg: JPEG,\n  gif: 'image/gif',\n  tiff: 'image/tiff',\n  svg: 'image/svg+xml',\n  webp: 'image/webp',\n}\n\nfunction getExtension(url: string): string {\n  const match = /\\.([^./]*?)$/g.exec(url)\n  return match ? match[1] : ''\n}\n\nexport function getMimeType(url: string): string {\n  const extension = getExtension(url).toLowerCase()\n  return mimes[extension] || ''\n}\n","import { Options } from './types'\n\nfunction getContentFromDataUrl(dataURL: string) {\n  return dataURL.split(/,/)[1]\n}\n\nexport function isDataUrl(url: string) {\n  return url.search(/^(data:)/) !== -1\n}\n\nexport function makeDataUrl(content: string, mimeType: string) {\n  return `data:${mimeType};base64,${content}`\n}\n\nexport async function fetchAsDataURL<T>(\n  url: string,\n  init: RequestInit | undefined,\n  process: (data: { result: string; res: Response }) => T,\n): Promise<T> {\n  const res = await fetch(url, init)\n  if (res.status === 404) {\n    throw new Error(`Resource \"${res.url}\" not found`)\n  }\n  const blob = await res.blob()\n  return new Promise<T>((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onerror = reject\n    reader.onloadend = () => {\n      try {\n        resolve(process({ res, result: reader.result as string }))\n      } catch (error) {\n        reject(error)\n      }\n    }\n\n    reader.readAsDataURL(blob)\n  })\n}\n\nconst cache: { [url: string]: string } = {}\n\nfunction getCacheKey(\n  url: string,\n  contentType: string | undefined,\n  includeQueryParams: boolean | undefined,\n) {\n  let key = url.replace(/\\?.*/, '')\n\n  if (includeQueryParams) {\n    key = url\n  }\n\n  // font resource\n  if (/ttf|otf|eot|woff2?/i.test(key)) {\n    key = key.replace(/.*\\//, '')\n  }\n\n  return contentType ? `[${contentType}]${key}` : key\n}\n\nexport async function resourceToDataURL(\n  resourceUrl: string,\n  contentType: string | undefined,\n  options: Options,\n) {\n  const cacheKey = getCacheKey(\n    resourceUrl,\n    contentType,\n    options.includeQueryParams,\n  )\n\n  if (cache[cacheKey] != null) {\n    return cache[cacheKey]\n  }\n\n  // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n  if (options.cacheBust) {\n    // eslint-disable-next-line no-param-reassign\n    resourceUrl += (/\\?/.test(resourceUrl) ? '&' : '?') + new Date().getTime()\n  }\n\n  let dataURL: string\n  try {\n    const content = await fetchAsDataURL(\n      resourceUrl,\n      options.fetchRequestInit,\n      ({ res, result }) => {\n        if (!contentType) {\n          // eslint-disable-next-line no-param-reassign\n          contentType = res.headers.get('Content-Type') || ''\n        }\n        return getContentFromDataUrl(result)\n      },\n    )\n    dataURL = makeDataUrl(content, contentType!)\n  } catch (error) {\n    dataURL = options.imagePlaceholder || ''\n\n    let msg = `Failed to fetch resource: ${resourceUrl}`\n    if (error) {\n      msg = typeof error === 'string' ? error : error.message\n    }\n\n    if (msg) {\n      console.warn(msg)\n    }\n  }\n\n  cache[cacheKey] = dataURL\n  return dataURL\n}\n","import type { Options } from './types'\nimport { clonePseudoElements } from './clone-pseudos'\nimport { createImage, toArray, isInstanceOfElement } from './util'\nimport { getMimeType } from './mimes'\nimport { resourceToDataURL } from './dataurl'\n\nasync function cloneCanvasElement(canvas: HTMLCanvasElement) {\n  const dataURL = canvas.toDataURL()\n  if (dataURL === 'data:,') {\n    return canvas.cloneNode(false) as HTMLCanvasElement\n  }\n  return createImage(dataURL)\n}\n\nasync function cloneVideoElement(video: HTMLVideoElement, options: Options) {\n  if (video.currentSrc) {\n    const canvas = document.createElement('canvas')\n    const ctx = canvas.getContext('2d')\n    canvas.width = video.clientWidth\n    canvas.height = video.clientHeight\n    ctx?.drawImage(video, 0, 0, canvas.width, canvas.height)\n    const dataURL = canvas.toDataURL()\n    return createImage(dataURL)\n  }\n\n  const poster = video.poster\n  const contentType = getMimeType(poster)\n  const dataURL = await resourceToDataURL(poster, contentType, options)\n  return createImage(dataURL)\n}\n\nasync function cloneIFrameElement(iframe: HTMLIFrameElement) {\n  try {\n    if (iframe?.contentDocument?.body) {\n      return (await cloneNode(\n        iframe.contentDocument.body,\n        {},\n        true,\n      )) as HTMLBodyElement\n    }\n  } catch {\n    // Failed to clone iframe\n  }\n\n  return iframe.cloneNode(false) as HTMLIFrameElement\n}\n\nasync function cloneSingleNode<T extends HTMLElement>(\n  node: T,\n  options: Options,\n): Promise<HTMLElement> {\n  if (isInstanceOfElement(node, HTMLCanvasElement)) {\n    return cloneCanvasElement(node)\n  }\n\n  if (isInstanceOfElement(node, HTMLVideoElement)) {\n    return cloneVideoElement(node, options)\n  }\n\n  if (isInstanceOfElement(node, HTMLIFrameElement)) {\n    return cloneIFrameElement(node)\n  }\n\n  return node.cloneNode(false) as T\n}\n\nconst isSlotElement = (node: HTMLElement): node is HTMLSlotElement =>\n  node.tagName != null && node.tagName.toUpperCase() === 'SLOT'\n\nasync function cloneChildren<T extends HTMLElement>(\n  nativeNode: T,\n  clonedNode: T,\n  options: Options,\n): Promise<T> {\n  let children: T[] = []\n\n  if (isSlotElement(nativeNode) && nativeNode.assignedNodes) {\n    children = toArray<T>(nativeNode.assignedNodes())\n  } else if (\n    isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n    nativeNode.contentDocument?.body\n  ) {\n    children = toArray<T>(nativeNode.contentDocument.body.childNodes)\n  } else {\n    children = toArray<T>((nativeNode.shadowRoot ?? nativeNode).childNodes)\n  }\n\n  if (\n    children.length === 0 ||\n    isInstanceOfElement(nativeNode, HTMLVideoElement)\n  ) {\n    return clonedNode\n  }\n\n  await children.reduce(\n    (deferred, child) =>\n      deferred\n        .then(() => cloneNode(child, options))\n        .then((clonedChild: HTMLElement | null) => {\n          if (clonedChild) {\n            clonedNode.appendChild(clonedChild)\n          }\n        }),\n    Promise.resolve(),\n  )\n\n  return clonedNode\n}\n\nfunction cloneCSSStyle<T extends HTMLElement>(nativeNode: T, clonedNode: T) {\n  const targetStyle = clonedNode.style\n  if (!targetStyle) {\n    return\n  }\n\n  const sourceStyle = window.getComputedStyle(nativeNode)\n  if (sourceStyle.cssText) {\n    targetStyle.cssText = sourceStyle.cssText\n    targetStyle.transformOrigin = sourceStyle.transformOrigin\n  } else {\n    toArray<string>(sourceStyle).forEach((name) => {\n      let value = sourceStyle.getPropertyValue(name)\n      if (name === 'font-size' && value.endsWith('px')) {\n        const reducedFont =\n          Math.floor(parseFloat(value.substring(0, value.length - 2))) - 0.1\n        value = `${reducedFont}px`\n      }\n\n      if (\n        isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n        name === 'display' &&\n        value === 'inline'\n      ) {\n        value = 'block'\n      }\n      \n      if (name === 'd' && clonedNode.getAttribute('d')) {\n        value = `path(${clonedNode.getAttribute('d')})`\n      }\n      \n      targetStyle.setProperty(\n        name,\n        value,\n        sourceStyle.getPropertyPriority(name),\n      )\n    })\n  }\n}\n\nfunction cloneInputValue<T extends HTMLElement>(nativeNode: T, clonedNode: T) {\n  if (isInstanceOfElement(nativeNode, HTMLTextAreaElement)) {\n    clonedNode.innerHTML = nativeNode.value\n  }\n\n  if (isInstanceOfElement(nativeNode, HTMLInputElement)) {\n    clonedNode.setAttribute('value', nativeNode.value)\n  }\n}\n\nfunction cloneSelectValue<T extends HTMLElement>(nativeNode: T, clonedNode: T) {\n  if (isInstanceOfElement(nativeNode, HTMLSelectElement)) {\n    const clonedSelect = clonedNode as any as HTMLSelectElement\n    const selectedOption = Array.from(clonedSelect.children).find(\n      (child) => nativeNode.value === child.getAttribute('value'),\n    )\n\n    if (selectedOption) {\n      selectedOption.setAttribute('selected', '')\n    }\n  }\n}\n\nfunction decorate<T extends HTMLElement>(nativeNode: T, clonedNode: T): T {\n  if (isInstanceOfElement(clonedNode, Element)) {\n    cloneCSSStyle(nativeNode, clonedNode)\n    clonePseudoElements(nativeNode, clonedNode)\n    cloneInputValue(nativeNode, clonedNode)\n    cloneSelectValue(nativeNode, clonedNode)\n  }\n\n  return clonedNode\n}\n\nasync function ensureSVGSymbols<T extends HTMLElement>(\n  clone: T,\n  options: Options,\n) {\n  const uses = clone.querySelectorAll ? clone.querySelectorAll('use') : []\n  if (uses.length === 0) {\n    return clone\n  }\n\n  const processedDefs: { [key: string]: HTMLElement } = {}\n  for (let i = 0; i < uses.length; i++) {\n    const use = uses[i]\n    const id = use.getAttribute('xlink:href')\n    if (id) {\n      const exist = clone.querySelector(id)\n      const definition = document.querySelector(id) as HTMLElement\n      if (!exist && definition && !processedDefs[id]) {\n        // eslint-disable-next-line no-await-in-loop\n        processedDefs[id] = (await cloneNode(definition, options, true))!\n      }\n    }\n  }\n\n  const nodes = Object.values(processedDefs)\n  if (nodes.length) {\n    const ns = 'http://www.w3.org/1999/xhtml'\n    const svg = document.createElementNS(ns, 'svg')\n    svg.setAttribute('xmlns', ns)\n    svg.style.position = 'absolute'\n    svg.style.width = '0'\n    svg.style.height = '0'\n    svg.style.overflow = 'hidden'\n    svg.style.display = 'none'\n\n    const defs = document.createElementNS(ns, 'defs')\n    svg.appendChild(defs)\n\n    for (let i = 0; i < nodes.length; i++) {\n      defs.appendChild(nodes[i])\n    }\n\n    clone.appendChild(svg)\n  }\n\n  return clone\n}\n\nexport async function cloneNode<T extends HTMLElement>(\n  node: T,\n  options: Options,\n  isRoot?: boolean,\n): Promise<T | null> {\n  if (!isRoot && options.filter && !options.filter(node)) {\n    return null\n  }\n\n  return Promise.resolve(node)\n    .then((clonedNode) => cloneSingleNode(clonedNode, options) as Promise<T>)\n    .then((clonedNode) => cloneChildren(node, clonedNode, options))\n    .then((clonedNode) => decorate(node, clonedNode))\n    .then((clonedNode) => ensureSVGSymbols(clonedNode, options))\n}\n","import { Options } from './types'\nimport { resolveUrl } from './util'\nimport { getMimeType } from './mimes'\nimport { isDataUrl, makeDataUrl, resourceToDataURL } from './dataurl'\n\nconst URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g\nconst URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"']?)([^\"']+)\\1\\)/g\nconst FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g\n\nfunction toRegex(url: string): RegExp {\n  // eslint-disable-next-line no-useless-escape\n  const escaped = url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1')\n  return new RegExp(`(url\\\\(['\"]?)(${escaped})(['\"]?\\\\))`, 'g')\n}\n\nexport function parseURLs(cssText: string): string[] {\n  const urls: string[] = []\n\n  cssText.replace(URL_REGEX, (raw, quotation, url) => {\n    urls.push(url)\n    return raw\n  })\n\n  return urls.filter((url) => !isDataUrl(url))\n}\n\nexport async function embed(\n  cssText: string,\n  resourceURL: string,\n  baseURL: string | null,\n  options: Options,\n  getContentFromUrl?: (url: string) => Promise<string>,\n): Promise<string> {\n  try {\n    const resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL\n    const contentType = getMimeType(resourceURL)\n    let dataURL: string\n    if (getContentFromUrl) {\n      const content = await getContentFromUrl(resolvedURL)\n      dataURL = makeDataUrl(content, contentType)\n    } else {\n      dataURL = await resourceToDataURL(resolvedURL, contentType, options)\n    }\n    return cssText.replace(toRegex(resourceURL), `$1${dataURL}$3`)\n  } catch (error) {\n    // pass\n  }\n  return cssText\n}\n\nfunction filterPreferredFontFormat(\n  str: string,\n  { preferredFontFormat }: Options,\n): string {\n  return !preferredFontFormat\n    ? str\n    : str.replace(FONT_SRC_REGEX, (match: string) => {\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          const [src, , format] = URL_WITH_FORMAT_REGEX.exec(match) || []\n          if (!format) {\n            return ''\n          }\n\n          if (format === preferredFontFormat) {\n            return `src: ${src};`\n          }\n        }\n      })\n}\n\nexport function shouldEmbed(url: string): boolean {\n  return url.search(URL_REGEX) !== -1\n}\n\nexport async function embedResources(\n  cssText: string,\n  baseUrl: string | null,\n  options: Options,\n): Promise<string> {\n  if (!shouldEmbed(cssText)) {\n    return cssText\n  }\n\n  const filteredCSSText = filterPreferredFontFormat(cssText, options)\n  const urls = parseURLs(filteredCSSText)\n  return urls.reduce(\n    (deferred, url) =>\n      deferred.then((css) => embed(css, url, baseUrl, options)),\n    Promise.resolve(filteredCSSText),\n  )\n}\n","import { Options } from './types'\nimport { embedResources } from './embed-resources'\nimport { toArray, isInstanceOfElement } from './util'\nimport { isDataUrl, resourceToDataURL } from './dataurl'\nimport { getMimeType } from './mimes'\n\nasync function embedProp(\n  propName: string,\n  node: HTMLElement,\n  options: Options,\n) {\n  const propValue = node.style?.getPropertyValue(propName)\n  if (propValue) {\n    const cssString = await embedResources(propValue, null, options)\n    node.style.setProperty(\n      propName,\n      cssString,\n      node.style.getPropertyPriority(propName),\n    )\n    return true\n  }\n  return false\n}\n\nasync function embedBackground<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  if (!(await embedProp('background', clonedNode, options))) {\n    await embedProp('background-image', clonedNode, options)\n  }\n  if (!(await embedProp('mask', clonedNode, options))) {\n    await embedProp('mask-image', clonedNode, options)\n  }\n}\n\nasync function embedImageNode<T extends HTMLElement | SVGImageElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  const isImageElement = isInstanceOfElement(clonedNode, HTMLImageElement)\n\n  if (\n    !(isImageElement && !isDataUrl(clonedNode.src)) &&\n    !(\n      isInstanceOfElement(clonedNode, SVGImageElement) &&\n      !isDataUrl(clonedNode.href.baseVal)\n    )\n  ) {\n    return\n  }\n\n  const url = isImageElement ? clonedNode.src : clonedNode.href.baseVal\n\n  const dataURL = await resourceToDataURL(url, getMimeType(url), options)\n  await new Promise((resolve, reject) => {\n    clonedNode.onload = resolve\n    clonedNode.onerror = reject\n\n    const image = clonedNode as HTMLImageElement\n    if (image.decode) {\n      image.decode = resolve as any\n    }\n\n    if (image.loading === 'lazy') {\n      image.loading = 'eager'\n    }\n\n    if (isImageElement) {\n      clonedNode.srcset = ''\n      clonedNode.src = dataURL\n    } else {\n      clonedNode.href.baseVal = dataURL\n    }\n  })\n}\n\nasync function embedChildren<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  const children = toArray<HTMLElement>(clonedNode.childNodes)\n  const deferreds = children.map((child) => embedImages(child, options))\n  await Promise.all(deferreds).then(() => clonedNode)\n}\n\nexport async function embedImages<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  if (isInstanceOfElement(clonedNode, Element)) {\n    await embedBackground(clonedNode, options)\n    await embedImageNode(clonedNode, options)\n    await embedChildren(clonedNode, options)\n  }\n}\n","import { Options } from './types'\n\nexport function applyStyle<T extends HTMLElement>(\n  node: T,\n  options: Options,\n): T {\n  const { style } = node\n\n  if (options.backgroundColor) {\n    style.backgroundColor = options.backgroundColor\n  }\n\n  if (options.width) {\n    style.width = `${options.width}px`\n  }\n\n  if (options.height) {\n    style.height = `${options.height}px`\n  }\n\n  const manual = options.style\n  if (manual != null) {\n    Object.keys(manual).forEach((key: any) => {\n      style[key] = manual[key] as string\n    })\n  }\n\n  return node\n}\n","import type { Options } from './types'\nimport { toArray } from './util'\nimport { fetchAsDataURL } from './dataurl'\nimport { shouldEmbed, embedResources } from './embed-resources'\n\ninterface Metadata {\n  url: string\n  cssText: string\n}\n\nconst cssFetchCache: { [href: string]: Metadata } = {}\n\nasync function fetchCSS(url: string) {\n  let cache = cssFetchCache[url]\n  if (cache != null) {\n    return cache\n  }\n\n  const res = await fetch(url)\n  const cssText = await res.text()\n  cache = { url, cssText }\n\n  cssFetchCache[url] = cache\n\n  return cache\n}\n\nasync function embedFonts(data: Metadata, options: Options): Promise<string> {\n  let cssText = data.cssText\n  const regexUrl = /url\\([\"']?([^\"')]+)[\"']?\\)/g\n  const fontLocs = cssText.match(/url\\([^)]+\\)/g) || []\n  const loadFonts = fontLocs.map(async (loc: string) => {\n    let url = loc.replace(regexUrl, '$1')\n    if (!url.startsWith('https://')) {\n      url = new URL(url, data.url).href\n    }\n\n    return fetchAsDataURL<[string, string]>(\n      url,\n      options.fetchRequestInit,\n      ({ result }) => {\n        cssText = cssText.replace(loc, `url(${result})`)\n        return [loc, result]\n      },\n    )\n  })\n\n  return Promise.all(loadFonts).then(() => cssText)\n}\n\nfunction parseCSS(source: string) {\n  if (source == null) {\n    return []\n  }\n\n  const result: string[] = []\n  const commentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi\n  // strip out comments\n  let cssText = source.replace(commentsRegex, '')\n\n  // eslint-disable-next-line prefer-regex-literals\n  const keyframesRegex = new RegExp(\n    '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})',\n    'gi',\n  )\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    const matches = keyframesRegex.exec(cssText)\n    if (matches === null) {\n      break\n    }\n    result.push(matches[0])\n  }\n  cssText = cssText.replace(keyframesRegex, '')\n\n  const importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi\n  // to match css & media queries together\n  const combinedCSSRegex =\n    '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' +\n    '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'\n  // unified regex\n  const unifiedRegex = new RegExp(combinedCSSRegex, 'gi')\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    let matches = importRegex.exec(cssText)\n    if (matches === null) {\n      matches = unifiedRegex.exec(cssText)\n      if (matches === null) {\n        break\n      } else {\n        importRegex.lastIndex = unifiedRegex.lastIndex\n      }\n    } else {\n      unifiedRegex.lastIndex = importRegex.lastIndex\n    }\n    result.push(matches[0])\n  }\n\n  return result\n}\n\nasync function getCSSRules(\n  styleSheets: CSSStyleSheet[],\n  options: Options,\n): Promise<CSSStyleRule[]> {\n  const ret: CSSStyleRule[] = []\n  const deferreds: Promise<number | void>[] = []\n\n  // First loop inlines imports\n  styleSheets.forEach((sheet) => {\n    if ('cssRules' in sheet) {\n      try {\n        toArray<CSSRule>(sheet.cssRules || []).forEach((item, index) => {\n          if (item.type === CSSRule.IMPORT_RULE) {\n            let importIndex = index + 1\n            const url = (item as CSSImportRule).href\n            const deferred = fetchCSS(url)\n              .then((metadata) => embedFonts(metadata, options))\n              .then((cssText) =>\n                parseCSS(cssText).forEach((rule) => {\n                  try {\n                    sheet.insertRule(\n                      rule,\n                      rule.startsWith('@import')\n                        ? (importIndex += 1)\n                        : sheet.cssRules.length,\n                    )\n                  } catch (error) {\n                    console.error('Error inserting rule from remote css', {\n                      rule,\n                      error,\n                    })\n                  }\n                }),\n              )\n              .catch((e) => {\n                console.error('Error loading remote css', e.toString())\n              })\n\n            deferreds.push(deferred)\n          }\n        })\n      } catch (e) {\n        const inline =\n          styleSheets.find((a) => a.href == null) || document.styleSheets[0]\n        if (sheet.href != null) {\n          deferreds.push(\n            fetchCSS(sheet.href)\n              .then((metadata) => embedFonts(metadata, options))\n              .then((cssText) =>\n                parseCSS(cssText).forEach((rule) => {\n                  inline.insertRule(rule, sheet.cssRules.length)\n                }),\n              )\n              .catch((err: unknown) => {\n                console.error('Error loading remote stylesheet', err)\n              }),\n          )\n        }\n        console.error('Error inlining remote css file', e)\n      }\n    }\n  })\n\n  return Promise.all(deferreds).then(() => {\n    // Second loop parses rules\n    styleSheets.forEach((sheet) => {\n      if ('cssRules' in sheet) {\n        try {\n          toArray<CSSStyleRule>(sheet.cssRules || []).forEach((item) => {\n            ret.push(item)\n          })\n        } catch (e) {\n          console.error(`Error while reading CSS rules from ${sheet.href}`, e)\n        }\n      }\n    })\n\n    return ret\n  })\n}\n\nfunction getWebFontRules(cssRules: CSSStyleRule[]): CSSStyleRule[] {\n  return cssRules\n    .filter((rule) => rule.type === CSSRule.FONT_FACE_RULE)\n    .filter((rule) => shouldEmbed(rule.style.getPropertyValue('src')))\n}\n\nasync function parseWebFontRules<T extends HTMLElement>(\n  node: T,\n  options: Options,\n) {\n  if (node.ownerDocument == null) {\n    throw new Error('Provided element is not within a Document')\n  }\n\n  const styleSheets = toArray<CSSStyleSheet>(node.ownerDocument.styleSheets)\n  const cssRules = await getCSSRules(styleSheets, options)\n\n  return getWebFontRules(cssRules)\n}\n\nexport async function getWebFontCSS<T extends HTMLElement>(\n  node: T,\n  options: Options,\n): Promise<string> {\n  const rules = await parseWebFontRules(node, options)\n  const cssTexts = await Promise.all(\n    rules.map((rule) => {\n      const baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null\n      return embedResources(rule.cssText, baseUrl, options)\n    }),\n  )\n\n  return cssTexts.join('\\n')\n}\n\nexport async function embedWebFonts<T extends HTMLElement>(\n  clonedNode: T,\n  options: Options,\n) {\n  const cssText =\n    options.fontEmbedCSS != null\n      ? options.fontEmbedCSS\n      : options.skipFonts\n      ? null\n      : await getWebFontCSS(clonedNode, options)\n\n  if (cssText) {\n    const styleNode = document.createElement('style')\n    const sytleContent = document.createTextNode(cssText)\n\n    styleNode.appendChild(sytleContent)\n\n    if (clonedNode.firstChild) {\n      clonedNode.insertBefore(styleNode, clonedNode.firstChild)\n    } else {\n      clonedNode.appendChild(styleNode)\n    }\n  }\n}\n","import { Options } from './types'\nimport { cloneNode } from './clone-node'\nimport { embedImages } from './embed-images'\nimport { applyStyle } from './apply-style'\nimport { embedWebFonts, getWebFontCSS } from './embed-webfonts'\nimport {\n  getImageSize,\n  getPixelRatio,\n  createImage,\n  canvasToBlob,\n  nodeToDataURL,\n  checkCanvasDimensions,\n} from './util'\n\nexport async function toSvg<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  const { width, height } = getImageSize(node, options)\n  const clonedNode = (await cloneNode(node, options, true)) as HTMLElement\n  await embedWebFonts(clonedNode, options)\n  await embedImages(clonedNode, options)\n  applyStyle(clonedNode, options)\n  const datauri = await nodeToDataURL(clonedNode, width, height)\n  return datauri\n}\n\nexport async function toCanvas<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<HTMLCanvasElement> {\n  const { width, height } = getImageSize(node, options)\n  const svg = await toSvg(node, options)\n  const img = await createImage(svg)\n\n  const canvas = document.createElement('canvas')\n  const context = canvas.getContext('2d')!\n  const ratio = options.pixelRatio || getPixelRatio()\n  const canvasWidth = options.canvasWidth || width\n  const canvasHeight = options.canvasHeight || height\n\n  canvas.width = canvasWidth * ratio\n  canvas.height = canvasHeight * ratio\n\n  if (!options.skipAutoScale) {\n    checkCanvasDimensions(canvas)\n  }\n  canvas.style.width = `${canvasWidth}`\n  canvas.style.height = `${canvasHeight}`\n\n  if (options.backgroundColor) {\n    context.fillStyle = options.backgroundColor\n    context.fillRect(0, 0, canvas.width, canvas.height)\n  }\n\n  context.drawImage(img, 0, 0, canvas.width, canvas.height)\n\n  return canvas\n}\n\nexport async function toPixelData<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<Uint8ClampedArray> {\n  const { width, height } = getImageSize(node, options)\n  const canvas = await toCanvas(node, options)\n  const ctx = canvas.getContext('2d')!\n  return ctx.getImageData(0, 0, width, height).data\n}\n\nexport async function toPng<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  const canvas = await toCanvas(node, options)\n  return canvas.toDataURL()\n}\n\nexport async function toJpeg<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  const canvas = await toCanvas(node, options)\n  return canvas.toDataURL('image/jpeg', options.quality || 1)\n}\n\nexport async function toBlob<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<Blob | null> {\n  const canvas = await toCanvas(node, options)\n  const blob = await canvasToBlob(canvas)\n  return blob\n}\n\nexport async function getFontEmbedCSS<T extends HTMLElement>(\n  node: T,\n  options: Options = {},\n): Promise<string> {\n  return getWebFontCSS(node, options)\n}\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\nvar qrcode = function() {\n\n  //---------------------------------------------------------------------\n  // qrcode\n  //---------------------------------------------------------------------\n\n  /**\n   * qrcode\n   * @param typeNumber 1 to 40\n   * @param errorCorrectionLevel 'L','M','Q','H'\n   */\n  var qrcode = function(typeNumber, errorCorrectionLevel) {\n\n    var PAD0 = 0xEC;\n    var PAD1 = 0x11;\n\n    var _typeNumber = typeNumber;\n    var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n    var _modules = null;\n    var _moduleCount = 0;\n    var _dataCache = null;\n    var _dataList = [];\n\n    var _this = {};\n\n    var makeImpl = function(test, maskPattern) {\n\n      _moduleCount = _typeNumber * 4 + 17;\n      _modules = function(moduleCount) {\n        var modules = new Array(moduleCount);\n        for (var row = 0; row < moduleCount; row += 1) {\n          modules[row] = new Array(moduleCount);\n          for (var col = 0; col < moduleCount; col += 1) {\n            modules[row][col] = null;\n          }\n        }\n        return modules;\n      }(_moduleCount);\n\n      setupPositionProbePattern(0, 0);\n      setupPositionProbePattern(_moduleCount - 7, 0);\n      setupPositionProbePattern(0, _moduleCount - 7);\n      setupPositionAdjustPattern();\n      setupTimingPattern();\n      setupTypeInfo(test, maskPattern);\n\n      if (_typeNumber >= 7) {\n        setupTypeNumber(test);\n      }\n\n      if (_dataCache == null) {\n        _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n      }\n\n      mapData(_dataCache, maskPattern);\n    };\n\n    var setupPositionProbePattern = function(row, col) {\n\n      for (var r = -1; r <= 7; r += 1) {\n\n        if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n        for (var c = -1; c <= 7; c += 1) {\n\n          if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n          if ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n              || (0 <= c && c <= 6 && (r == 0 || r == 6) )\n              || (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n            _modules[row + r][col + c] = true;\n          } else {\n            _modules[row + r][col + c] = false;\n          }\n        }\n      }\n    };\n\n    var getBestMaskPattern = function() {\n\n      var minLostPoint = 0;\n      var pattern = 0;\n\n      for (var i = 0; i < 8; i += 1) {\n\n        makeImpl(true, i);\n\n        var lostPoint = QRUtil.getLostPoint(_this);\n\n        if (i == 0 || minLostPoint > lostPoint) {\n          minLostPoint = lostPoint;\n          pattern = i;\n        }\n      }\n\n      return pattern;\n    };\n\n    var setupTimingPattern = function() {\n\n      for (var r = 8; r < _moduleCount - 8; r += 1) {\n        if (_modules[r][6] != null) {\n          continue;\n        }\n        _modules[r][6] = (r % 2 == 0);\n      }\n\n      for (var c = 8; c < _moduleCount - 8; c += 1) {\n        if (_modules[6][c] != null) {\n          continue;\n        }\n        _modules[6][c] = (c % 2 == 0);\n      }\n    };\n\n    var setupPositionAdjustPattern = function() {\n\n      var pos = QRUtil.getPatternPosition(_typeNumber);\n\n      for (var i = 0; i < pos.length; i += 1) {\n\n        for (var j = 0; j < pos.length; j += 1) {\n\n          var row = pos[i];\n          var col = pos[j];\n\n          if (_modules[row][col] != null) {\n            continue;\n          }\n\n          for (var r = -2; r <= 2; r += 1) {\n\n            for (var c = -2; c <= 2; c += 1) {\n\n              if (r == -2 || r == 2 || c == -2 || c == 2\n                  || (r == 0 && c == 0) ) {\n                _modules[row + r][col + c] = true;\n              } else {\n                _modules[row + r][col + c] = false;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    var setupTypeNumber = function(test) {\n\n      var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n      }\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n      }\n    };\n\n    var setupTypeInfo = function(test, maskPattern) {\n\n      var data = (_errorCorrectionLevel << 3) | maskPattern;\n      var bits = QRUtil.getBCHTypeInfo(data);\n\n      // vertical\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 6) {\n          _modules[i][8] = mod;\n        } else if (i < 8) {\n          _modules[i + 1][8] = mod;\n        } else {\n          _modules[_moduleCount - 15 + i][8] = mod;\n        }\n      }\n\n      // horizontal\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 8) {\n          _modules[8][_moduleCount - i - 1] = mod;\n        } else if (i < 9) {\n          _modules[8][15 - i - 1 + 1] = mod;\n        } else {\n          _modules[8][15 - i - 1] = mod;\n        }\n      }\n\n      // fixed module\n      _modules[_moduleCount - 8][8] = (!test);\n    };\n\n    var mapData = function(data, maskPattern) {\n\n      var inc = -1;\n      var row = _moduleCount - 1;\n      var bitIndex = 7;\n      var byteIndex = 0;\n      var maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n      for (var col = _moduleCount - 1; col > 0; col -= 2) {\n\n        if (col == 6) col -= 1;\n\n        while (true) {\n\n          for (var c = 0; c < 2; c += 1) {\n\n            if (_modules[row][col - c] == null) {\n\n              var dark = false;\n\n              if (byteIndex < data.length) {\n                dark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n              }\n\n              var mask = maskFunc(row, col - c);\n\n              if (mask) {\n                dark = !dark;\n              }\n\n              _modules[row][col - c] = dark;\n              bitIndex -= 1;\n\n              if (bitIndex == -1) {\n                byteIndex += 1;\n                bitIndex = 7;\n              }\n            }\n          }\n\n          row += inc;\n\n          if (row < 0 || _moduleCount <= row) {\n            row -= inc;\n            inc = -inc;\n            break;\n          }\n        }\n      }\n    };\n\n    var createBytes = function(buffer, rsBlocks) {\n\n      var offset = 0;\n\n      var maxDcCount = 0;\n      var maxEcCount = 0;\n\n      var dcdata = new Array(rsBlocks.length);\n      var ecdata = new Array(rsBlocks.length);\n\n      for (var r = 0; r < rsBlocks.length; r += 1) {\n\n        var dcCount = rsBlocks[r].dataCount;\n        var ecCount = rsBlocks[r].totalCount - dcCount;\n\n        maxDcCount = Math.max(maxDcCount, dcCount);\n        maxEcCount = Math.max(maxEcCount, ecCount);\n\n        dcdata[r] = new Array(dcCount);\n\n        for (var i = 0; i < dcdata[r].length; i += 1) {\n          dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n        }\n        offset += dcCount;\n\n        var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n        var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n        var modPoly = rawPoly.mod(rsPoly);\n        ecdata[r] = new Array(rsPoly.getLength() - 1);\n        for (var i = 0; i < ecdata[r].length; i += 1) {\n          var modIndex = i + modPoly.getLength() - ecdata[r].length;\n          ecdata[r][i] = (modIndex >= 0)? modPoly.getAt(modIndex) : 0;\n        }\n      }\n\n      var totalCodeCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalCodeCount += rsBlocks[i].totalCount;\n      }\n\n      var data = new Array(totalCodeCount);\n      var index = 0;\n\n      for (var i = 0; i < maxDcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < dcdata[r].length) {\n            data[index] = dcdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      for (var i = 0; i < maxEcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < ecdata[r].length) {\n            data[index] = ecdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      return data;\n    };\n\n    var createData = function(typeNumber, errorCorrectionLevel, dataList) {\n\n      var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n      var buffer = qrBitBuffer();\n\n      for (var i = 0; i < dataList.length; i += 1) {\n        var data = dataList[i];\n        buffer.put(data.getMode(), 4);\n        buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n        data.write(buffer);\n      }\n\n      // calc num max data.\n      var totalDataCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalDataCount += rsBlocks[i].dataCount;\n      }\n\n      if (buffer.getLengthInBits() > totalDataCount * 8) {\n        throw 'code length overflow. ('\n          + buffer.getLengthInBits()\n          + '>'\n          + totalDataCount * 8\n          + ')';\n      }\n\n      // end code\n      if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n        buffer.put(0, 4);\n      }\n\n      // padding\n      while (buffer.getLengthInBits() % 8 != 0) {\n        buffer.putBit(false);\n      }\n\n      // padding\n      while (true) {\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD0, 8);\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD1, 8);\n      }\n\n      return createBytes(buffer, rsBlocks);\n    };\n\n    _this.addData = function(data, mode) {\n\n      mode = mode || 'Byte';\n\n      var newData = null;\n\n      switch(mode) {\n      case 'Numeric' :\n        newData = qrNumber(data);\n        break;\n      case 'Alphanumeric' :\n        newData = qrAlphaNum(data);\n        break;\n      case 'Byte' :\n        newData = qr8BitByte(data);\n        break;\n      case 'Kanji' :\n        newData = qrKanji(data);\n        break;\n      default :\n        throw 'mode:' + mode;\n      }\n\n      _dataList.push(newData);\n      _dataCache = null;\n    };\n\n    _this.isDark = function(row, col) {\n      if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n        throw row + ',' + col;\n      }\n      return _modules[row][col];\n    };\n\n    _this.getModuleCount = function() {\n      return _moduleCount;\n    };\n\n    _this.make = function() {\n      if (_typeNumber < 1) {\n        var typeNumber = 1;\n\n        for (; typeNumber < 40; typeNumber++) {\n          var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\n          var buffer = qrBitBuffer();\n\n          for (var i = 0; i < _dataList.length; i++) {\n            var data = _dataList[i];\n            buffer.put(data.getMode(), 4);\n            buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n            data.write(buffer);\n          }\n\n          var totalDataCount = 0;\n          for (var i = 0; i < rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount;\n          }\n\n          if (buffer.getLengthInBits() <= totalDataCount * 8) {\n            break;\n          }\n        }\n\n        _typeNumber = typeNumber;\n      }\n\n      makeImpl(false, getBestMaskPattern() );\n    };\n\n    _this.createTableTag = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var qrHtml = '';\n\n      qrHtml += '<table style=\"';\n      qrHtml += ' border-width: 0px; border-style: none;';\n      qrHtml += ' border-collapse: collapse;';\n      qrHtml += ' padding: 0px; margin: ' + margin + 'px;';\n      qrHtml += '\">';\n      qrHtml += '<tbody>';\n\n      for (var r = 0; r < _this.getModuleCount(); r += 1) {\n\n        qrHtml += '<tr>';\n\n        for (var c = 0; c < _this.getModuleCount(); c += 1) {\n          qrHtml += '<td style=\"';\n          qrHtml += ' border-width: 0px; border-style: none;';\n          qrHtml += ' border-collapse: collapse;';\n          qrHtml += ' padding: 0px; margin: 0px;';\n          qrHtml += ' width: ' + cellSize + 'px;';\n          qrHtml += ' height: ' + cellSize + 'px;';\n          qrHtml += ' background-color: ';\n          qrHtml += _this.isDark(r, c)? '#000000' : '#ffffff';\n          qrHtml += ';';\n          qrHtml += '\"/>';\n        }\n\n        qrHtml += '</tr>';\n      }\n\n      qrHtml += '</tbody>';\n      qrHtml += '</table>';\n\n      return qrHtml;\n    };\n\n    _this.createSvgTag = function(cellSize, margin, alt, title) {\n\n      var opts = {};\n      if (typeof arguments[0] == 'object') {\n        // Called by options.\n        opts = arguments[0];\n        // overwrite cellSize and margin.\n        cellSize = opts.cellSize;\n        margin = opts.margin;\n        alt = opts.alt;\n        title = opts.title;\n      }\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      // Compose alt property surrogate\n      alt = (typeof alt === 'string') ? {text: alt} : alt || {};\n      alt.text = alt.text || null;\n      alt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\n\n      // Compose title property surrogate\n      title = (typeof title === 'string') ? {text: title} : title || {};\n      title.text = title.text || null;\n      title.id = (title.text) ? title.id || 'qrcode-title' : null;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var c, mc, r, mr, qrSvg='', rect;\n\n      rect = 'l' + cellSize + ',0 0,' + cellSize +\n        ' -' + cellSize + ',0 0,-' + cellSize + 'z ';\n\n      qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n      qrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\n      qrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\n      qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n      qrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\n          escapeXml([title.id, alt.id].join(' ').trim() ) + '\"' : '';\n      qrSvg += '>';\n      qrSvg += (title.text) ? '<title id=\"' + escapeXml(title.id) + '\">' +\n          escapeXml(title.text) + '</title>' : '';\n      qrSvg += (alt.text) ? '<description id=\"' + escapeXml(alt.id) + '\">' +\n          escapeXml(alt.text) + '</description>' : '';\n      qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n      qrSvg += '<path d=\"';\n\n      for (r = 0; r < _this.getModuleCount(); r += 1) {\n        mr = r * cellSize + margin;\n        for (c = 0; c < _this.getModuleCount(); c += 1) {\n          if (_this.isDark(r, c) ) {\n            mc = c*cellSize+margin;\n            qrSvg += 'M' + mc + ',' + mr + rect;\n          }\n        }\n      }\n\n      qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n      qrSvg += '</svg>';\n\n      return qrSvg;\n    };\n\n    _this.createDataURL = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      return createDataURL(size, size, function(x, y) {\n        if (min <= x && x < max && min <= y && y < max) {\n          var c = Math.floor( (x - min) / cellSize);\n          var r = Math.floor( (y - min) / cellSize);\n          return _this.isDark(r, c)? 0 : 1;\n        } else {\n          return 1;\n        }\n      } );\n    };\n\n    _this.createImgTag = function(cellSize, margin, alt) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n\n      var img = '';\n      img += '<img';\n      img += '\\u0020src=\"';\n      img += _this.createDataURL(cellSize, margin);\n      img += '\"';\n      img += '\\u0020width=\"';\n      img += size;\n      img += '\"';\n      img += '\\u0020height=\"';\n      img += size;\n      img += '\"';\n      if (alt) {\n        img += '\\u0020alt=\"';\n        img += escapeXml(alt);\n        img += '\"';\n      }\n      img += '/>';\n\n      return img;\n    };\n\n    var escapeXml = function(s) {\n      var escaped = '';\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charAt(i);\n        switch(c) {\n        case '<': escaped += '&lt;'; break;\n        case '>': escaped += '&gt;'; break;\n        case '&': escaped += '&amp;'; break;\n        case '\"': escaped += '&quot;'; break;\n        default : escaped += c; break;\n        }\n      }\n      return escaped;\n    };\n\n    var _createHalfASCII = function(margin) {\n      var cellSize = 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r1, r2, p;\n\n      var blocks = {\n        '██': '█',\n        '█ ': '▀',\n        ' █': '▄',\n        '  ': ' '\n      };\n\n      var blocksLastLineNoMargin = {\n        '██': '▀',\n        '█ ': '▀',\n        ' █': ' ',\n        '  ': ' '\n      };\n\n      var ascii = '';\n      for (y = 0; y < size; y += 2) {\n        r1 = Math.floor((y - min) / cellSize);\n        r2 = Math.floor((y + 1 - min) / cellSize);\n        for (x = 0; x < size; x += 1) {\n          p = '█';\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r1, Math.floor((x - min) / cellSize))) {\n            p = ' ';\n          }\n\n          if (min <= x && x < max && min <= y+1 && y+1 < max && _this.isDark(r2, Math.floor((x - min) / cellSize))) {\n            p += ' ';\n          }\n          else {\n            p += '█';\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          ascii += (margin < 1 && y+1 >= max) ? blocksLastLineNoMargin[p] : blocks[p];\n        }\n\n        ascii += '\\n';\n      }\n\n      if (size % 2 && margin > 0) {\n        return ascii.substring(0, ascii.length - size - 1) + Array(size+1).join('▀');\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.createASCII = function(cellSize, margin) {\n      cellSize = cellSize || 1;\n\n      if (cellSize < 2) {\n        return _createHalfASCII(margin);\n      }\n\n      cellSize -= 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r, p;\n\n      var white = Array(cellSize+1).join('██');\n      var black = Array(cellSize+1).join('  ');\n\n      var ascii = '';\n      var line = '';\n      for (y = 0; y < size; y += 1) {\n        r = Math.floor( (y - min) / cellSize);\n        line = '';\n        for (x = 0; x < size; x += 1) {\n          p = 1;\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r, Math.floor((x - min) / cellSize))) {\n            p = 0;\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          line += p ? white : black;\n        }\n\n        for (r = 0; r < cellSize; r += 1) {\n          ascii += line + '\\n';\n        }\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.renderTo2dContext = function(context, cellSize) {\n      cellSize = cellSize || 2;\n      var length = _this.getModuleCount();\n      for (var row = 0; row < length; row++) {\n        for (var col = 0; col < length; col++) {\n          context.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\n          context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n        }\n      }\n    }\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrcode.stringToBytes\n  //---------------------------------------------------------------------\n\n  qrcode.stringToBytesFuncs = {\n    'default' : function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        bytes.push(c & 0xff);\n      }\n      return bytes;\n    }\n  };\n\n  qrcode.stringToBytes = qrcode.stringToBytesFuncs['default'];\n\n  //---------------------------------------------------------------------\n  // qrcode.createStringToBytes\n  //---------------------------------------------------------------------\n\n  /**\n   * @param unicodeData base64 string of byte array.\n   * [16bit Unicode],[16bit Bytes], ...\n   * @param numChars\n   */\n  qrcode.createStringToBytes = function(unicodeData, numChars) {\n\n    // create conversion map.\n\n    var unicodeMap = function() {\n\n      var bin = base64DecodeInputStream(unicodeData);\n      var read = function() {\n        var b = bin.read();\n        if (b == -1) throw 'eof';\n        return b;\n      };\n\n      var count = 0;\n      var unicodeMap = {};\n      while (true) {\n        var b0 = bin.read();\n        if (b0 == -1) break;\n        var b1 = read();\n        var b2 = read();\n        var b3 = read();\n        var k = String.fromCharCode( (b0 << 8) | b1);\n        var v = (b2 << 8) | b3;\n        unicodeMap[k] = v;\n        count += 1;\n      }\n      if (count != numChars) {\n        throw count + ' != ' + numChars;\n      }\n\n      return unicodeMap;\n    }();\n\n    var unknownChar = '?'.charCodeAt(0);\n\n    return function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        if (c < 128) {\n          bytes.push(c);\n        } else {\n          var b = unicodeMap[s.charAt(i)];\n          if (typeof b == 'number') {\n            if ( (b & 0xff) == b) {\n              // 1byte\n              bytes.push(b);\n            } else {\n              // 2bytes\n              bytes.push(b >>> 8);\n              bytes.push(b & 0xff);\n            }\n          } else {\n            bytes.push(unknownChar);\n          }\n        }\n      }\n      return bytes;\n    };\n  };\n\n  //---------------------------------------------------------------------\n  // QRMode\n  //---------------------------------------------------------------------\n\n  var QRMode = {\n    MODE_NUMBER :    1 << 0,\n    MODE_ALPHA_NUM : 1 << 1,\n    MODE_8BIT_BYTE : 1 << 2,\n    MODE_KANJI :     1 << 3\n  };\n\n  //---------------------------------------------------------------------\n  // QRErrorCorrectionLevel\n  //---------------------------------------------------------------------\n\n  var QRErrorCorrectionLevel = {\n    L : 1,\n    M : 0,\n    Q : 3,\n    H : 2\n  };\n\n  //---------------------------------------------------------------------\n  // QRMaskPattern\n  //---------------------------------------------------------------------\n\n  var QRMaskPattern = {\n    PATTERN000 : 0,\n    PATTERN001 : 1,\n    PATTERN010 : 2,\n    PATTERN011 : 3,\n    PATTERN100 : 4,\n    PATTERN101 : 5,\n    PATTERN110 : 6,\n    PATTERN111 : 7\n  };\n\n  //---------------------------------------------------------------------\n  // QRUtil\n  //---------------------------------------------------------------------\n\n  var QRUtil = function() {\n\n    var PATTERN_POSITION_TABLE = [\n      [],\n      [6, 18],\n      [6, 22],\n      [6, 26],\n      [6, 30],\n      [6, 34],\n      [6, 22, 38],\n      [6, 24, 42],\n      [6, 26, 46],\n      [6, 28, 50],\n      [6, 30, 54],\n      [6, 32, 58],\n      [6, 34, 62],\n      [6, 26, 46, 66],\n      [6, 26, 48, 70],\n      [6, 26, 50, 74],\n      [6, 30, 54, 78],\n      [6, 30, 56, 82],\n      [6, 30, 58, 86],\n      [6, 34, 62, 90],\n      [6, 28, 50, 72, 94],\n      [6, 26, 50, 74, 98],\n      [6, 30, 54, 78, 102],\n      [6, 28, 54, 80, 106],\n      [6, 32, 58, 84, 110],\n      [6, 30, 58, 86, 114],\n      [6, 34, 62, 90, 118],\n      [6, 26, 50, 74, 98, 122],\n      [6, 30, 54, 78, 102, 126],\n      [6, 26, 52, 78, 104, 130],\n      [6, 30, 56, 82, 108, 134],\n      [6, 34, 60, 86, 112, 138],\n      [6, 30, 58, 86, 114, 142],\n      [6, 34, 62, 90, 118, 146],\n      [6, 30, 54, 78, 102, 126, 150],\n      [6, 24, 50, 76, 102, 128, 154],\n      [6, 28, 54, 80, 106, 132, 158],\n      [6, 32, 58, 84, 110, 136, 162],\n      [6, 26, 54, 82, 110, 138, 166],\n      [6, 30, 58, 86, 114, 142, 170]\n    ];\n    var G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\n    var G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n    var G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\n\n    var _this = {};\n\n    var getBCHDigit = function(data) {\n      var digit = 0;\n      while (data != 0) {\n        digit += 1;\n        data >>>= 1;\n      }\n      return digit;\n    };\n\n    _this.getBCHTypeInfo = function(data) {\n      var d = data << 10;\n      while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n        d ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15) ) );\n      }\n      return ( (data << 10) | d) ^ G15_MASK;\n    };\n\n    _this.getBCHTypeNumber = function(data) {\n      var d = data << 12;\n      while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n        d ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18) ) );\n      }\n      return (data << 12) | d;\n    };\n\n    _this.getPatternPosition = function(typeNumber) {\n      return PATTERN_POSITION_TABLE[typeNumber - 1];\n    };\n\n    _this.getMaskFunction = function(maskPattern) {\n\n      switch (maskPattern) {\n\n      case QRMaskPattern.PATTERN000 :\n        return function(i, j) { return (i + j) % 2 == 0; };\n      case QRMaskPattern.PATTERN001 :\n        return function(i, j) { return i % 2 == 0; };\n      case QRMaskPattern.PATTERN010 :\n        return function(i, j) { return j % 3 == 0; };\n      case QRMaskPattern.PATTERN011 :\n        return function(i, j) { return (i + j) % 3 == 0; };\n      case QRMaskPattern.PATTERN100 :\n        return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0; };\n      case QRMaskPattern.PATTERN101 :\n        return function(i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\n      case QRMaskPattern.PATTERN110 :\n        return function(i, j) { return ( (i * j) % 2 + (i * j) % 3) % 2 == 0; };\n      case QRMaskPattern.PATTERN111 :\n        return function(i, j) { return ( (i * j) % 3 + (i + j) % 2) % 2 == 0; };\n\n      default :\n        throw 'bad maskPattern:' + maskPattern;\n      }\n    };\n\n    _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n      var a = qrPolynomial([1], 0);\n      for (var i = 0; i < errorCorrectLength; i += 1) {\n        a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0) );\n      }\n      return a;\n    };\n\n    _this.getLengthInBits = function(mode, type) {\n\n      if (1 <= type && type < 10) {\n\n        // 1 - 9\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 10;\n        case QRMode.MODE_ALPHA_NUM : return 9;\n        case QRMode.MODE_8BIT_BYTE : return 8;\n        case QRMode.MODE_KANJI     : return 8;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 27) {\n\n        // 10 - 26\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 12;\n        case QRMode.MODE_ALPHA_NUM : return 11;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 10;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 41) {\n\n        // 27 - 40\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 14;\n        case QRMode.MODE_ALPHA_NUM : return 13;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 12;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else {\n        throw 'type:' + type;\n      }\n    };\n\n    _this.getLostPoint = function(qrcode) {\n\n      var moduleCount = qrcode.getModuleCount();\n\n      var lostPoint = 0;\n\n      // LEVEL1\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount; col += 1) {\n\n          var sameCount = 0;\n          var dark = qrcode.isDark(row, col);\n\n          for (var r = -1; r <= 1; r += 1) {\n\n            if (row + r < 0 || moduleCount <= row + r) {\n              continue;\n            }\n\n            for (var c = -1; c <= 1; c += 1) {\n\n              if (col + c < 0 || moduleCount <= col + c) {\n                continue;\n              }\n\n              if (r == 0 && c == 0) {\n                continue;\n              }\n\n              if (dark == qrcode.isDark(row + r, col + c) ) {\n                sameCount += 1;\n              }\n            }\n          }\n\n          if (sameCount > 5) {\n            lostPoint += (3 + sameCount - 5);\n          }\n        }\n      };\n\n      // LEVEL2\n\n      for (var row = 0; row < moduleCount - 1; row += 1) {\n        for (var col = 0; col < moduleCount - 1; col += 1) {\n          var count = 0;\n          if (qrcode.isDark(row, col) ) count += 1;\n          if (qrcode.isDark(row + 1, col) ) count += 1;\n          if (qrcode.isDark(row, col + 1) ) count += 1;\n          if (qrcode.isDark(row + 1, col + 1) ) count += 1;\n          if (count == 0 || count == 4) {\n            lostPoint += 3;\n          }\n        }\n      }\n\n      // LEVEL3\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount - 6; col += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row, col + 1)\n              &&  qrcode.isDark(row, col + 2)\n              &&  qrcode.isDark(row, col + 3)\n              &&  qrcode.isDark(row, col + 4)\n              && !qrcode.isDark(row, col + 5)\n              &&  qrcode.isDark(row, col + 6) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount - 6; row += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row + 1, col)\n              &&  qrcode.isDark(row + 2, col)\n              &&  qrcode.isDark(row + 3, col)\n              &&  qrcode.isDark(row + 4, col)\n              && !qrcode.isDark(row + 5, col)\n              &&  qrcode.isDark(row + 6, col) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      // LEVEL4\n\n      var darkCount = 0;\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount; row += 1) {\n          if (qrcode.isDark(row, col) ) {\n            darkCount += 1;\n          }\n        }\n      }\n\n      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n      lostPoint += ratio * 10;\n\n      return lostPoint;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // QRMath\n  //---------------------------------------------------------------------\n\n  var QRMath = function() {\n\n    var EXP_TABLE = new Array(256);\n    var LOG_TABLE = new Array(256);\n\n    // initialize tables\n    for (var i = 0; i < 8; i += 1) {\n      EXP_TABLE[i] = 1 << i;\n    }\n    for (var i = 8; i < 256; i += 1) {\n      EXP_TABLE[i] = EXP_TABLE[i - 4]\n        ^ EXP_TABLE[i - 5]\n        ^ EXP_TABLE[i - 6]\n        ^ EXP_TABLE[i - 8];\n    }\n    for (var i = 0; i < 255; i += 1) {\n      LOG_TABLE[EXP_TABLE[i] ] = i;\n    }\n\n    var _this = {};\n\n    _this.glog = function(n) {\n\n      if (n < 1) {\n        throw 'glog(' + n + ')';\n      }\n\n      return LOG_TABLE[n];\n    };\n\n    _this.gexp = function(n) {\n\n      while (n < 0) {\n        n += 255;\n      }\n\n      while (n >= 256) {\n        n -= 255;\n      }\n\n      return EXP_TABLE[n];\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrPolynomial\n  //---------------------------------------------------------------------\n\n  function qrPolynomial(num, shift) {\n\n    if (typeof num.length == 'undefined') {\n      throw num.length + '/' + shift;\n    }\n\n    var _num = function() {\n      var offset = 0;\n      while (offset < num.length && num[offset] == 0) {\n        offset += 1;\n      }\n      var _num = new Array(num.length - offset + shift);\n      for (var i = 0; i < num.length - offset; i += 1) {\n        _num[i] = num[i + offset];\n      }\n      return _num;\n    }();\n\n    var _this = {};\n\n    _this.getAt = function(index) {\n      return _num[index];\n    };\n\n    _this.getLength = function() {\n      return _num.length;\n    };\n\n    _this.multiply = function(e) {\n\n      var num = new Array(_this.getLength() + e.getLength() - 1);\n\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        for (var j = 0; j < e.getLength(); j += 1) {\n          num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i) ) + QRMath.glog(e.getAt(j) ) );\n        }\n      }\n\n      return qrPolynomial(num, 0);\n    };\n\n    _this.mod = function(e) {\n\n      if (_this.getLength() - e.getLength() < 0) {\n        return _this;\n      }\n\n      var ratio = QRMath.glog(_this.getAt(0) ) - QRMath.glog(e.getAt(0) );\n\n      var num = new Array(_this.getLength() );\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        num[i] = _this.getAt(i);\n      }\n\n      for (var i = 0; i < e.getLength(); i += 1) {\n        num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i) ) + ratio);\n      }\n\n      // recursive call\n      return qrPolynomial(num, 0).mod(e);\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // QRRSBlock\n  //---------------------------------------------------------------------\n\n  var QRRSBlock = function() {\n\n    var RS_BLOCK_TABLE = [\n\n      // L\n      // M\n      // Q\n      // H\n\n      // 1\n      [1, 26, 19],\n      [1, 26, 16],\n      [1, 26, 13],\n      [1, 26, 9],\n\n      // 2\n      [1, 44, 34],\n      [1, 44, 28],\n      [1, 44, 22],\n      [1, 44, 16],\n\n      // 3\n      [1, 70, 55],\n      [1, 70, 44],\n      [2, 35, 17],\n      [2, 35, 13],\n\n      // 4\n      [1, 100, 80],\n      [2, 50, 32],\n      [2, 50, 24],\n      [4, 25, 9],\n\n      // 5\n      [1, 134, 108],\n      [2, 67, 43],\n      [2, 33, 15, 2, 34, 16],\n      [2, 33, 11, 2, 34, 12],\n\n      // 6\n      [2, 86, 68],\n      [4, 43, 27],\n      [4, 43, 19],\n      [4, 43, 15],\n\n      // 7\n      [2, 98, 78],\n      [4, 49, 31],\n      [2, 32, 14, 4, 33, 15],\n      [4, 39, 13, 1, 40, 14],\n\n      // 8\n      [2, 121, 97],\n      [2, 60, 38, 2, 61, 39],\n      [4, 40, 18, 2, 41, 19],\n      [4, 40, 14, 2, 41, 15],\n\n      // 9\n      [2, 146, 116],\n      [3, 58, 36, 2, 59, 37],\n      [4, 36, 16, 4, 37, 17],\n      [4, 36, 12, 4, 37, 13],\n\n      // 10\n      [2, 86, 68, 2, 87, 69],\n      [4, 69, 43, 1, 70, 44],\n      [6, 43, 19, 2, 44, 20],\n      [6, 43, 15, 2, 44, 16],\n\n      // 11\n      [4, 101, 81],\n      [1, 80, 50, 4, 81, 51],\n      [4, 50, 22, 4, 51, 23],\n      [3, 36, 12, 8, 37, 13],\n\n      // 12\n      [2, 116, 92, 2, 117, 93],\n      [6, 58, 36, 2, 59, 37],\n      [4, 46, 20, 6, 47, 21],\n      [7, 42, 14, 4, 43, 15],\n\n      // 13\n      [4, 133, 107],\n      [8, 59, 37, 1, 60, 38],\n      [8, 44, 20, 4, 45, 21],\n      [12, 33, 11, 4, 34, 12],\n\n      // 14\n      [3, 145, 115, 1, 146, 116],\n      [4, 64, 40, 5, 65, 41],\n      [11, 36, 16, 5, 37, 17],\n      [11, 36, 12, 5, 37, 13],\n\n      // 15\n      [5, 109, 87, 1, 110, 88],\n      [5, 65, 41, 5, 66, 42],\n      [5, 54, 24, 7, 55, 25],\n      [11, 36, 12, 7, 37, 13],\n\n      // 16\n      [5, 122, 98, 1, 123, 99],\n      [7, 73, 45, 3, 74, 46],\n      [15, 43, 19, 2, 44, 20],\n      [3, 45, 15, 13, 46, 16],\n\n      // 17\n      [1, 135, 107, 5, 136, 108],\n      [10, 74, 46, 1, 75, 47],\n      [1, 50, 22, 15, 51, 23],\n      [2, 42, 14, 17, 43, 15],\n\n      // 18\n      [5, 150, 120, 1, 151, 121],\n      [9, 69, 43, 4, 70, 44],\n      [17, 50, 22, 1, 51, 23],\n      [2, 42, 14, 19, 43, 15],\n\n      // 19\n      [3, 141, 113, 4, 142, 114],\n      [3, 70, 44, 11, 71, 45],\n      [17, 47, 21, 4, 48, 22],\n      [9, 39, 13, 16, 40, 14],\n\n      // 20\n      [3, 135, 107, 5, 136, 108],\n      [3, 67, 41, 13, 68, 42],\n      [15, 54, 24, 5, 55, 25],\n      [15, 43, 15, 10, 44, 16],\n\n      // 21\n      [4, 144, 116, 4, 145, 117],\n      [17, 68, 42],\n      [17, 50, 22, 6, 51, 23],\n      [19, 46, 16, 6, 47, 17],\n\n      // 22\n      [2, 139, 111, 7, 140, 112],\n      [17, 74, 46],\n      [7, 54, 24, 16, 55, 25],\n      [34, 37, 13],\n\n      // 23\n      [4, 151, 121, 5, 152, 122],\n      [4, 75, 47, 14, 76, 48],\n      [11, 54, 24, 14, 55, 25],\n      [16, 45, 15, 14, 46, 16],\n\n      // 24\n      [6, 147, 117, 4, 148, 118],\n      [6, 73, 45, 14, 74, 46],\n      [11, 54, 24, 16, 55, 25],\n      [30, 46, 16, 2, 47, 17],\n\n      // 25\n      [8, 132, 106, 4, 133, 107],\n      [8, 75, 47, 13, 76, 48],\n      [7, 54, 24, 22, 55, 25],\n      [22, 45, 15, 13, 46, 16],\n\n      // 26\n      [10, 142, 114, 2, 143, 115],\n      [19, 74, 46, 4, 75, 47],\n      [28, 50, 22, 6, 51, 23],\n      [33, 46, 16, 4, 47, 17],\n\n      // 27\n      [8, 152, 122, 4, 153, 123],\n      [22, 73, 45, 3, 74, 46],\n      [8, 53, 23, 26, 54, 24],\n      [12, 45, 15, 28, 46, 16],\n\n      // 28\n      [3, 147, 117, 10, 148, 118],\n      [3, 73, 45, 23, 74, 46],\n      [4, 54, 24, 31, 55, 25],\n      [11, 45, 15, 31, 46, 16],\n\n      // 29\n      [7, 146, 116, 7, 147, 117],\n      [21, 73, 45, 7, 74, 46],\n      [1, 53, 23, 37, 54, 24],\n      [19, 45, 15, 26, 46, 16],\n\n      // 30\n      [5, 145, 115, 10, 146, 116],\n      [19, 75, 47, 10, 76, 48],\n      [15, 54, 24, 25, 55, 25],\n      [23, 45, 15, 25, 46, 16],\n\n      // 31\n      [13, 145, 115, 3, 146, 116],\n      [2, 74, 46, 29, 75, 47],\n      [42, 54, 24, 1, 55, 25],\n      [23, 45, 15, 28, 46, 16],\n\n      // 32\n      [17, 145, 115],\n      [10, 74, 46, 23, 75, 47],\n      [10, 54, 24, 35, 55, 25],\n      [19, 45, 15, 35, 46, 16],\n\n      // 33\n      [17, 145, 115, 1, 146, 116],\n      [14, 74, 46, 21, 75, 47],\n      [29, 54, 24, 19, 55, 25],\n      [11, 45, 15, 46, 46, 16],\n\n      // 34\n      [13, 145, 115, 6, 146, 116],\n      [14, 74, 46, 23, 75, 47],\n      [44, 54, 24, 7, 55, 25],\n      [59, 46, 16, 1, 47, 17],\n\n      // 35\n      [12, 151, 121, 7, 152, 122],\n      [12, 75, 47, 26, 76, 48],\n      [39, 54, 24, 14, 55, 25],\n      [22, 45, 15, 41, 46, 16],\n\n      // 36\n      [6, 151, 121, 14, 152, 122],\n      [6, 75, 47, 34, 76, 48],\n      [46, 54, 24, 10, 55, 25],\n      [2, 45, 15, 64, 46, 16],\n\n      // 37\n      [17, 152, 122, 4, 153, 123],\n      [29, 74, 46, 14, 75, 47],\n      [49, 54, 24, 10, 55, 25],\n      [24, 45, 15, 46, 46, 16],\n\n      // 38\n      [4, 152, 122, 18, 153, 123],\n      [13, 74, 46, 32, 75, 47],\n      [48, 54, 24, 14, 55, 25],\n      [42, 45, 15, 32, 46, 16],\n\n      // 39\n      [20, 147, 117, 4, 148, 118],\n      [40, 75, 47, 7, 76, 48],\n      [43, 54, 24, 22, 55, 25],\n      [10, 45, 15, 67, 46, 16],\n\n      // 40\n      [19, 148, 118, 6, 149, 119],\n      [18, 75, 47, 31, 76, 48],\n      [34, 54, 24, 34, 55, 25],\n      [20, 45, 15, 61, 46, 16]\n    ];\n\n    var qrRSBlock = function(totalCount, dataCount) {\n      var _this = {};\n      _this.totalCount = totalCount;\n      _this.dataCount = dataCount;\n      return _this;\n    };\n\n    var _this = {};\n\n    var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n\n      switch(errorCorrectionLevel) {\n      case QRErrorCorrectionLevel.L :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n      case QRErrorCorrectionLevel.M :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n      case QRErrorCorrectionLevel.Q :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n      case QRErrorCorrectionLevel.H :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n      default :\n        return undefined;\n      }\n    };\n\n    _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n\n      var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n      if (typeof rsBlock == 'undefined') {\n        throw 'bad rs block @ typeNumber:' + typeNumber +\n            '/errorCorrectionLevel:' + errorCorrectionLevel;\n      }\n\n      var length = rsBlock.length / 3;\n\n      var list = [];\n\n      for (var i = 0; i < length; i += 1) {\n\n        var count = rsBlock[i * 3 + 0];\n        var totalCount = rsBlock[i * 3 + 1];\n        var dataCount = rsBlock[i * 3 + 2];\n\n        for (var j = 0; j < count; j += 1) {\n          list.push(qrRSBlock(totalCount, dataCount) );\n        }\n      }\n\n      return list;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrBitBuffer\n  //---------------------------------------------------------------------\n\n  var qrBitBuffer = function() {\n\n    var _buffer = [];\n    var _length = 0;\n\n    var _this = {};\n\n    _this.getBuffer = function() {\n      return _buffer;\n    };\n\n    _this.getAt = function(index) {\n      var bufIndex = Math.floor(index / 8);\n      return ( (_buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n    };\n\n    _this.put = function(num, length) {\n      for (var i = 0; i < length; i += 1) {\n        _this.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n      }\n    };\n\n    _this.getLengthInBits = function() {\n      return _length;\n    };\n\n    _this.putBit = function(bit) {\n\n      var bufIndex = Math.floor(_length / 8);\n      if (_buffer.length <= bufIndex) {\n        _buffer.push(0);\n      }\n\n      if (bit) {\n        _buffer[bufIndex] |= (0x80 >>> (_length % 8) );\n      }\n\n      _length += 1;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrNumber\n  //---------------------------------------------------------------------\n\n  var qrNumber = function(data) {\n\n    var _mode = QRMode.MODE_NUMBER;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _data;\n\n      var i = 0;\n\n      while (i + 2 < data.length) {\n        buffer.put(strToNum(data.substring(i, i + 3) ), 10);\n        i += 3;\n      }\n\n      if (i < data.length) {\n        if (data.length - i == 1) {\n          buffer.put(strToNum(data.substring(i, i + 1) ), 4);\n        } else if (data.length - i == 2) {\n          buffer.put(strToNum(data.substring(i, i + 2) ), 7);\n        }\n      }\n    };\n\n    var strToNum = function(s) {\n      var num = 0;\n      for (var i = 0; i < s.length; i += 1) {\n        num = num * 10 + chatToNum(s.charAt(i) );\n      }\n      return num;\n    };\n\n    var chatToNum = function(c) {\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      }\n      throw 'illegal char :' + c;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrAlphaNum\n  //---------------------------------------------------------------------\n\n  var qrAlphaNum = function(data) {\n\n    var _mode = QRMode.MODE_ALPHA_NUM;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var s = _data;\n\n      var i = 0;\n\n      while (i + 1 < s.length) {\n        buffer.put(\n          getCode(s.charAt(i) ) * 45 +\n          getCode(s.charAt(i + 1) ), 11);\n        i += 2;\n      }\n\n      if (i < s.length) {\n        buffer.put(getCode(s.charAt(i) ), 6);\n      }\n    };\n\n    var getCode = function(c) {\n\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      } else if ('A' <= c && c <= 'Z') {\n        return c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n      } else {\n        switch (c) {\n        case ' ' : return 36;\n        case '$' : return 37;\n        case '%' : return 38;\n        case '*' : return 39;\n        case '+' : return 40;\n        case '-' : return 41;\n        case '.' : return 42;\n        case '/' : return 43;\n        case ':' : return 44;\n        default :\n          throw 'illegal char :' + c;\n        }\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qr8BitByte\n  //---------------------------------------------------------------------\n\n  var qr8BitByte = function(data) {\n\n    var _mode = QRMode.MODE_8BIT_BYTE;\n    var _data = data;\n    var _bytes = qrcode.stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _bytes.length;\n    };\n\n    _this.write = function(buffer) {\n      for (var i = 0; i < _bytes.length; i += 1) {\n        buffer.put(_bytes[i], 8);\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrKanji\n  //---------------------------------------------------------------------\n\n  var qrKanji = function(data) {\n\n    var _mode = QRMode.MODE_KANJI;\n    var _data = data;\n\n    var stringToBytes = qrcode.stringToBytesFuncs['SJIS'];\n    if (!stringToBytes) {\n      throw 'sjis not supported.';\n    }\n    !function(c, code) {\n      // self test for sjis support.\n      var test = stringToBytes(c);\n      if (test.length != 2 || ( (test[0] << 8) | test[1]) != code) {\n        throw 'sjis not supported.';\n      }\n    }('\\u53cb', 0x9746);\n\n    var _bytes = stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return ~~(_bytes.length / 2);\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _bytes;\n\n      var i = 0;\n\n      while (i + 1 < data.length) {\n\n        var c = ( (0xff & data[i]) << 8) | (0xff & data[i + 1]);\n\n        if (0x8140 <= c && c <= 0x9FFC) {\n          c -= 0x8140;\n        } else if (0xE040 <= c && c <= 0xEBBF) {\n          c -= 0xC140;\n        } else {\n          throw 'illegal char at ' + (i + 1) + '/' + c;\n        }\n\n        c = ( (c >>> 8) & 0xff) * 0xC0 + (c & 0xff);\n\n        buffer.put(c, 13);\n\n        i += 2;\n      }\n\n      if (i < data.length) {\n        throw 'illegal char at ' + (i + 1);\n      }\n    };\n\n    return _this;\n  };\n\n  //=====================================================================\n  // GIF Support etc.\n  //\n\n  //---------------------------------------------------------------------\n  // byteArrayOutputStream\n  //---------------------------------------------------------------------\n\n  var byteArrayOutputStream = function() {\n\n    var _bytes = [];\n\n    var _this = {};\n\n    _this.writeByte = function(b) {\n      _bytes.push(b & 0xff);\n    };\n\n    _this.writeShort = function(i) {\n      _this.writeByte(i);\n      _this.writeByte(i >>> 8);\n    };\n\n    _this.writeBytes = function(b, off, len) {\n      off = off || 0;\n      len = len || b.length;\n      for (var i = 0; i < len; i += 1) {\n        _this.writeByte(b[i + off]);\n      }\n    };\n\n    _this.writeString = function(s) {\n      for (var i = 0; i < s.length; i += 1) {\n        _this.writeByte(s.charCodeAt(i) );\n      }\n    };\n\n    _this.toByteArray = function() {\n      return _bytes;\n    };\n\n    _this.toString = function() {\n      var s = '';\n      s += '[';\n      for (var i = 0; i < _bytes.length; i += 1) {\n        if (i > 0) {\n          s += ',';\n        }\n        s += _bytes[i];\n      }\n      s += ']';\n      return s;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64EncodeOutputStream\n  //---------------------------------------------------------------------\n\n  var base64EncodeOutputStream = function() {\n\n    var _buffer = 0;\n    var _buflen = 0;\n    var _length = 0;\n    var _base64 = '';\n\n    var _this = {};\n\n    var writeEncoded = function(b) {\n      _base64 += String.fromCharCode(encode(b & 0x3f) );\n    };\n\n    var encode = function(n) {\n      if (n < 0) {\n        // error.\n      } else if (n < 26) {\n        return 0x41 + n;\n      } else if (n < 52) {\n        return 0x61 + (n - 26);\n      } else if (n < 62) {\n        return 0x30 + (n - 52);\n      } else if (n == 62) {\n        return 0x2b;\n      } else if (n == 63) {\n        return 0x2f;\n      }\n      throw 'n:' + n;\n    };\n\n    _this.writeByte = function(n) {\n\n      _buffer = (_buffer << 8) | (n & 0xff);\n      _buflen += 8;\n      _length += 1;\n\n      while (_buflen >= 6) {\n        writeEncoded(_buffer >>> (_buflen - 6) );\n        _buflen -= 6;\n      }\n    };\n\n    _this.flush = function() {\n\n      if (_buflen > 0) {\n        writeEncoded(_buffer << (6 - _buflen) );\n        _buffer = 0;\n        _buflen = 0;\n      }\n\n      if (_length % 3 != 0) {\n        // padding\n        var padlen = 3 - _length % 3;\n        for (var i = 0; i < padlen; i += 1) {\n          _base64 += '=';\n        }\n      }\n    };\n\n    _this.toString = function() {\n      return _base64;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64DecodeInputStream\n  //---------------------------------------------------------------------\n\n  var base64DecodeInputStream = function(str) {\n\n    var _str = str;\n    var _pos = 0;\n    var _buffer = 0;\n    var _buflen = 0;\n\n    var _this = {};\n\n    _this.read = function() {\n\n      while (_buflen < 8) {\n\n        if (_pos >= _str.length) {\n          if (_buflen == 0) {\n            return -1;\n          }\n          throw 'unexpected end of file./' + _buflen;\n        }\n\n        var c = _str.charAt(_pos);\n        _pos += 1;\n\n        if (c == '=') {\n          _buflen = 0;\n          return -1;\n        } else if (c.match(/^\\s$/) ) {\n          // ignore if whitespace.\n          continue;\n        }\n\n        _buffer = (_buffer << 6) | decode(c.charCodeAt(0) );\n        _buflen += 6;\n      }\n\n      var n = (_buffer >>> (_buflen - 8) ) & 0xff;\n      _buflen -= 8;\n      return n;\n    };\n\n    var decode = function(c) {\n      if (0x41 <= c && c <= 0x5a) {\n        return c - 0x41;\n      } else if (0x61 <= c && c <= 0x7a) {\n        return c - 0x61 + 26;\n      } else if (0x30 <= c && c <= 0x39) {\n        return c - 0x30 + 52;\n      } else if (c == 0x2b) {\n        return 62;\n      } else if (c == 0x2f) {\n        return 63;\n      } else {\n        throw 'c:' + c;\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // gifImage (B/W)\n  //---------------------------------------------------------------------\n\n  var gifImage = function(width, height) {\n\n    var _width = width;\n    var _height = height;\n    var _data = new Array(width * height);\n\n    var _this = {};\n\n    _this.setPixel = function(x, y, pixel) {\n      _data[y * _width + x] = pixel;\n    };\n\n    _this.write = function(out) {\n\n      //---------------------------------\n      // GIF Signature\n\n      out.writeString('GIF87a');\n\n      //---------------------------------\n      // Screen Descriptor\n\n      out.writeShort(_width);\n      out.writeShort(_height);\n\n      out.writeByte(0x80); // 2bit\n      out.writeByte(0);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Global Color Map\n\n      // black\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n\n      // white\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n\n      //---------------------------------\n      // Image Descriptor\n\n      out.writeString(',');\n      out.writeShort(0);\n      out.writeShort(0);\n      out.writeShort(_width);\n      out.writeShort(_height);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Local Color Map\n\n      //---------------------------------\n      // Raster Data\n\n      var lzwMinCodeSize = 2;\n      var raster = getLZWRaster(lzwMinCodeSize);\n\n      out.writeByte(lzwMinCodeSize);\n\n      var offset = 0;\n\n      while (raster.length - offset > 255) {\n        out.writeByte(255);\n        out.writeBytes(raster, offset, 255);\n        offset += 255;\n      }\n\n      out.writeByte(raster.length - offset);\n      out.writeBytes(raster, offset, raster.length - offset);\n      out.writeByte(0x00);\n\n      //---------------------------------\n      // GIF Terminator\n      out.writeString(';');\n    };\n\n    var bitOutputStream = function(out) {\n\n      var _out = out;\n      var _bitLength = 0;\n      var _bitBuffer = 0;\n\n      var _this = {};\n\n      _this.write = function(data, length) {\n\n        if ( (data >>> length) != 0) {\n          throw 'length over';\n        }\n\n        while (_bitLength + length >= 8) {\n          _out.writeByte(0xff & ( (data << _bitLength) | _bitBuffer) );\n          length -= (8 - _bitLength);\n          data >>>= (8 - _bitLength);\n          _bitBuffer = 0;\n          _bitLength = 0;\n        }\n\n        _bitBuffer = (data << _bitLength) | _bitBuffer;\n        _bitLength = _bitLength + length;\n      };\n\n      _this.flush = function() {\n        if (_bitLength > 0) {\n          _out.writeByte(_bitBuffer);\n        }\n      };\n\n      return _this;\n    };\n\n    var getLZWRaster = function(lzwMinCodeSize) {\n\n      var clearCode = 1 << lzwMinCodeSize;\n      var endCode = (1 << lzwMinCodeSize) + 1;\n      var bitLength = lzwMinCodeSize + 1;\n\n      // Setup LZWTable\n      var table = lzwTable();\n\n      for (var i = 0; i < clearCode; i += 1) {\n        table.add(String.fromCharCode(i) );\n      }\n      table.add(String.fromCharCode(clearCode) );\n      table.add(String.fromCharCode(endCode) );\n\n      var byteOut = byteArrayOutputStream();\n      var bitOut = bitOutputStream(byteOut);\n\n      // clear code\n      bitOut.write(clearCode, bitLength);\n\n      var dataIndex = 0;\n\n      var s = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      while (dataIndex < _data.length) {\n\n        var c = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n\n        if (table.contains(s + c) ) {\n\n          s = s + c;\n\n        } else {\n\n          bitOut.write(table.indexOf(s), bitLength);\n\n          if (table.size() < 0xfff) {\n\n            if (table.size() == (1 << bitLength) ) {\n              bitLength += 1;\n            }\n\n            table.add(s + c);\n          }\n\n          s = c;\n        }\n      }\n\n      bitOut.write(table.indexOf(s), bitLength);\n\n      // end code\n      bitOut.write(endCode, bitLength);\n\n      bitOut.flush();\n\n      return byteOut.toByteArray();\n    };\n\n    var lzwTable = function() {\n\n      var _map = {};\n      var _size = 0;\n\n      var _this = {};\n\n      _this.add = function(key) {\n        if (_this.contains(key) ) {\n          throw 'dup key:' + key;\n        }\n        _map[key] = _size;\n        _size += 1;\n      };\n\n      _this.size = function() {\n        return _size;\n      };\n\n      _this.indexOf = function(key) {\n        return _map[key];\n      };\n\n      _this.contains = function(key) {\n        return typeof _map[key] != 'undefined';\n      };\n\n      return _this;\n    };\n\n    return _this;\n  };\n\n  var createDataURL = function(width, height, getPixel) {\n    var gif = gifImage(width, height);\n    for (var y = 0; y < height; y += 1) {\n      for (var x = 0; x < width; x += 1) {\n        gif.setPixel(x, y, getPixel(x, y) );\n      }\n    }\n\n    var b = byteArrayOutputStream();\n    gif.write(b);\n\n    var base64 = base64EncodeOutputStream();\n    var bytes = b.toByteArray();\n    for (var i = 0; i < bytes.length; i += 1) {\n      base64.writeByte(bytes[i]);\n    }\n    base64.flush();\n\n    return 'data:image/gif;base64,' + base64;\n  };\n\n  //---------------------------------------------------------------------\n  // returns qrcode function.\n\n  return qrcode;\n}();\n\n// multibyte support\n!function() {\n\n  qrcode.stringToBytesFuncs['UTF-8'] = function(s) {\n    // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n    function toUTF8Array(str) {\n      var utf8 = [];\n      for (var i=0; i < str.length; i++) {\n        var charcode = str.charCodeAt(i);\n        if (charcode < 0x80) utf8.push(charcode);\n        else if (charcode < 0x800) {\n          utf8.push(0xc0 | (charcode >> 6),\n              0x80 | (charcode & 0x3f));\n        }\n        else if (charcode < 0xd800 || charcode >= 0xe000) {\n          utf8.push(0xe0 | (charcode >> 12),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n        // surrogate pair\n        else {\n          i++;\n          // UTF-16 encodes 0x10000-0x10FFFF by\n          // subtracting 0x10000 and splitting the\n          // 20 bits of 0x0-0xFFFFF into two halves\n          charcode = 0x10000 + (((charcode & 0x3ff)<<10)\n            | (str.charCodeAt(i) & 0x3ff));\n          utf8.push(0xf0 | (charcode >>18),\n              0x80 | ((charcode>>12) & 0x3f),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n      }\n      return utf8;\n    }\n    return toUTF8Array(s);\n  };\n\n}();\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n      define([], factory);\n  } else if (typeof exports === 'object') {\n      module.exports = factory();\n  }\n}(function () {\n    return qrcode;\n}));\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.QRCode = void 0;\r\nvar isEqual = require(\"lodash.isequal\");\r\nvar qrGenerator = require(\"qrcode-generator\");\r\nvar React = require(\"react\");\r\nvar ReactDOM = require(\"react-dom\");\r\nvar QRCode = /** @class */ (function (_super) {\r\n    __extends(QRCode, _super);\r\n    function QRCode(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.canvas = React.createRef();\r\n        return _this;\r\n    }\r\n    QRCode.utf16to8 = function (str) {\r\n        var out = '', i, c;\r\n        var len = str.length;\r\n        for (i = 0; i < len; i++) {\r\n            c = str.charCodeAt(i);\r\n            if ((c >= 0x0001) && (c <= 0x007F)) {\r\n                out += str.charAt(i);\r\n            }\r\n            else if (c > 0x07FF) {\r\n                out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));\r\n                out += String.fromCharCode(0x80 | ((c >> 6) & 0x3F));\r\n                out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));\r\n            }\r\n            else {\r\n                out += String.fromCharCode(0xC0 | ((c >> 6) & 0x1F));\r\n                out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));\r\n            }\r\n        }\r\n        return out;\r\n    };\r\n    /**\r\n     * Draw a rounded square in the canvas\r\n     */\r\n    QRCode.prototype.drawRoundedSquare = function (lineWidth, x, y, size, color, radii, fill, ctx) {\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.fillStyle = color;\r\n        ctx.strokeStyle = color;\r\n        // Adjust coordinates so that the outside of the stroke is aligned to the edges\r\n        y += lineWidth / 2;\r\n        x += lineWidth / 2;\r\n        size -= lineWidth;\r\n        if (!Array.isArray(radii)) {\r\n            radii = [radii, radii, radii, radii];\r\n        }\r\n        // Radius should not be greater than half the size or less than zero\r\n        radii = radii.map(function (r) {\r\n            r = Math.min(r, size / 2);\r\n            return (r < 0) ? 0 : r;\r\n        });\r\n        var rTopLeft = radii[0] || 0;\r\n        var rTopRight = radii[1] || 0;\r\n        var rBottomRight = radii[2] || 0;\r\n        var rBottomLeft = radii[3] || 0;\r\n        ctx.beginPath();\r\n        ctx.moveTo(x + rTopLeft, y);\r\n        ctx.lineTo(x + size - rTopRight, y);\r\n        if (rTopRight)\r\n            ctx.quadraticCurveTo(x + size, y, x + size, y + rTopRight);\r\n        ctx.lineTo(x + size, y + size - rBottomRight);\r\n        if (rBottomRight)\r\n            ctx.quadraticCurveTo(x + size, y + size, x + size - rBottomRight, y + size);\r\n        ctx.lineTo(x + rBottomLeft, y + size);\r\n        if (rBottomLeft)\r\n            ctx.quadraticCurveTo(x, y + size, x, y + size - rBottomLeft);\r\n        ctx.lineTo(x, y + rTopLeft);\r\n        if (rTopLeft)\r\n            ctx.quadraticCurveTo(x, y, x + rTopLeft, y);\r\n        ctx.closePath();\r\n        ctx.stroke();\r\n        if (fill) {\r\n            ctx.fill();\r\n        }\r\n    };\r\n    /**\r\n     * Draw a single positional pattern eye.\r\n     */\r\n    QRCode.prototype.drawPositioningPattern = function (ctx, cellSize, offset, row, col, color, radii) {\r\n        if (radii === void 0) { radii = [0, 0, 0, 0]; }\r\n        var lineWidth = Math.ceil(cellSize);\r\n        var radiiOuter;\r\n        var radiiInner;\r\n        if (typeof radii !== 'number' && !Array.isArray(radii)) {\r\n            radiiOuter = radii.outer || 0;\r\n            radiiInner = radii.inner || 0;\r\n        }\r\n        else {\r\n            radiiOuter = radii;\r\n            radiiInner = radiiOuter;\r\n        }\r\n        var colorOuter;\r\n        var colorInner;\r\n        if (typeof color !== 'string') {\r\n            colorOuter = color.outer;\r\n            colorInner = color.inner;\r\n        }\r\n        else {\r\n            colorOuter = color;\r\n            colorInner = color;\r\n        }\r\n        var y = (row * cellSize) + offset;\r\n        var x = (col * cellSize) + offset;\r\n        var size = cellSize * 7;\r\n        // Outer box\r\n        this.drawRoundedSquare(lineWidth, x, y, size, colorOuter, radiiOuter, false, ctx);\r\n        // Inner box\r\n        size = cellSize * 3;\r\n        y += cellSize * 2;\r\n        x += cellSize * 2;\r\n        this.drawRoundedSquare(lineWidth, x, y, size, colorInner, radiiInner, true, ctx);\r\n    };\r\n    ;\r\n    /**\r\n     * Is this dot inside a positional pattern zone.\r\n     */\r\n    QRCode.prototype.isInPositioninZone = function (col, row, zones) {\r\n        return zones.some(function (zone) { return (row >= zone.row && row <= zone.row + 7 &&\r\n            col >= zone.col && col <= zone.col + 7); });\r\n    };\r\n    QRCode.prototype.transformPixelLengthIntoNumberOfCells = function (pixelLength, cellSize) {\r\n        return pixelLength / cellSize;\r\n    };\r\n    QRCode.prototype.isCoordinateInImage = function (col, row, dWidthLogo, dHeightLogo, dxLogo, dyLogo, cellSize, logoImage) {\r\n        if (logoImage) {\r\n            var numberOfCellsMargin = 2;\r\n            var firstRowOfLogo = this.transformPixelLengthIntoNumberOfCells(dxLogo, cellSize);\r\n            var firstColumnOfLogo = this.transformPixelLengthIntoNumberOfCells(dyLogo, cellSize);\r\n            var logoWidthInCells = this.transformPixelLengthIntoNumberOfCells(dWidthLogo, cellSize) - 1;\r\n            var logoHeightInCells = this.transformPixelLengthIntoNumberOfCells(dHeightLogo, cellSize) - 1;\r\n            return row >= firstRowOfLogo - numberOfCellsMargin && row <= firstRowOfLogo + logoWidthInCells + numberOfCellsMargin // check rows\r\n                && col >= firstColumnOfLogo - numberOfCellsMargin && col <= firstColumnOfLogo + logoHeightInCells + numberOfCellsMargin; // check cols\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    QRCode.prototype.shouldComponentUpdate = function (nextProps) {\r\n        return !isEqual(this.props, nextProps);\r\n    };\r\n    QRCode.prototype.componentDidMount = function () {\r\n        this.update();\r\n    };\r\n    QRCode.prototype.componentDidUpdate = function () {\r\n        this.update();\r\n    };\r\n    QRCode.prototype.update = function () {\r\n        var _a = this.props, value = _a.value, ecLevel = _a.ecLevel, enableCORS = _a.enableCORS, size = _a.size, quietZone = _a.quietZone, bgColor = _a.bgColor, fgColor = _a.fgColor, logoImage = _a.logoImage, logoWidth = _a.logoWidth, logoHeight = _a.logoHeight, logoOpacity = _a.logoOpacity, removeQrCodeBehindLogo = _a.removeQrCodeBehindLogo, qrStyle = _a.qrStyle, eyeRadius = _a.eyeRadius, eyeColor = _a.eyeColor;\r\n        var qrCode = qrGenerator(0, ecLevel);\r\n        qrCode.addData(QRCode.utf16to8(value));\r\n        qrCode.make();\r\n        var canvas = ReactDOM.findDOMNode(this.canvas.current);\r\n        var ctx = canvas.getContext('2d');\r\n        var canvasSize = +size + (2 * +quietZone);\r\n        var length = qrCode.getModuleCount();\r\n        var cellSize = size / length;\r\n        var scale = (window.devicePixelRatio || 1);\r\n        canvas.height = canvas.width = canvasSize * scale;\r\n        ctx.scale(scale, scale);\r\n        ctx.fillStyle = bgColor;\r\n        ctx.fillRect(0, 0, canvasSize, canvasSize);\r\n        var offset = +quietZone;\r\n        var dWidthLogo = logoWidth || size * 0.2;\r\n        var dHeightLogo = logoHeight || dWidthLogo;\r\n        var dxLogo = ((size - dWidthLogo) / 2);\r\n        var dyLogo = ((size - dHeightLogo) / 2);\r\n        var positioningZones = [\r\n            { row: 0, col: 0 },\r\n            { row: 0, col: length - 7 },\r\n            { row: length - 7, col: 0 },\r\n        ];\r\n        ctx.strokeStyle = fgColor;\r\n        if (qrStyle === 'dots') {\r\n            ctx.fillStyle = fgColor;\r\n            var radius = cellSize / 2;\r\n            for (var row = 0; row < length; row++) {\r\n                for (var col = 0; col < length; col++) {\r\n                    if (qrCode.isDark(row, col) && !this.isInPositioninZone(row, col, positioningZones) && !(removeQrCodeBehindLogo && this.isCoordinateInImage(row, col, dWidthLogo, dHeightLogo, dxLogo, dyLogo, cellSize, logoImage))) {\r\n                        ctx.beginPath();\r\n                        ctx.arc(Math.round(col * cellSize) + radius + offset, Math.round(row * cellSize) + radius + offset, (radius / 100) * 75, 0, 2 * Math.PI, false);\r\n                        ctx.closePath();\r\n                        ctx.fill();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var row = 0; row < length; row++) {\r\n                for (var col = 0; col < length; col++) {\r\n                    if (qrCode.isDark(row, col) && !this.isInPositioninZone(row, col, positioningZones) && !(removeQrCodeBehindLogo && this.isCoordinateInImage(row, col, dWidthLogo, dHeightLogo, dxLogo, dyLogo, cellSize, logoImage))) {\r\n                        ctx.fillStyle = fgColor;\r\n                        var w = (Math.ceil((col + 1) * cellSize) - Math.floor(col * cellSize));\r\n                        var h = (Math.ceil((row + 1) * cellSize) - Math.floor(row * cellSize));\r\n                        ctx.fillRect(Math.round(col * cellSize) + offset, Math.round(row * cellSize) + offset, w, h);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Draw positioning patterns\r\n        for (var i = 0; i < 3; i++) {\r\n            var _b = positioningZones[i], row = _b.row, col = _b.col;\r\n            var radii = eyeRadius;\r\n            var color = void 0;\r\n            if (Array.isArray(radii)) {\r\n                radii = radii[i];\r\n            }\r\n            if (typeof radii == 'number') {\r\n                radii = [radii, radii, radii, radii];\r\n            }\r\n            if (!eyeColor) { // if not specified, eye color is the same as foreground, \r\n                color = fgColor;\r\n            }\r\n            else {\r\n                if (Array.isArray(eyeColor)) { // if array, we pass the single color\r\n                    color = eyeColor[i];\r\n                }\r\n                else {\r\n                    color = eyeColor;\r\n                }\r\n            }\r\n            this.drawPositioningPattern(ctx, cellSize, offset, row, col, color, radii);\r\n        }\r\n        if (logoImage) {\r\n            var image_1 = new Image();\r\n            if (enableCORS) {\r\n                image_1.crossOrigin = 'Anonymous';\r\n            }\r\n            image_1.onload = function () {\r\n                ctx.save();\r\n                ctx.globalAlpha = logoOpacity;\r\n                ctx.drawImage(image_1, dxLogo + offset, dyLogo + offset, dWidthLogo, dHeightLogo);\r\n                ctx.restore();\r\n            };\r\n            image_1.src = logoImage;\r\n        }\r\n    };\r\n    QRCode.prototype.render = function () {\r\n        var _a;\r\n        var size = +this.props.size + (2 * +this.props.quietZone);\r\n        return React.createElement('canvas', {\r\n            id: (_a = this.props.id) !== null && _a !== void 0 ? _a : 'react-qrcode-logo',\r\n            height: size,\r\n            width: size,\r\n            style: { height: size + 'px', width: size + 'px' },\r\n            ref: this.canvas\r\n        });\r\n    };\r\n    QRCode.defaultProps = {\r\n        value: 'https://reactjs.org/',\r\n        ecLevel: 'M',\r\n        enableCORS: false,\r\n        size: 150,\r\n        quietZone: 10,\r\n        bgColor: '#FFFFFF',\r\n        fgColor: '#000000',\r\n        logoOpacity: 1,\r\n        removeQrCodeBehindLogo: false,\r\n        qrStyle: 'squares',\r\n        eyeRadius: [0, 0, 0]\r\n    };\r\n    return QRCode;\r\n}(React.Component));\r\nexports.QRCode = QRCode;\r\n"],"names":["resolveUrl","url","baseUrl","match","window","location","protocol","doc","document","implementation","createHTMLDocument","base","createElement","a","head","appendChild","body","href","uuid","counter","Math","random","toString","slice","toArray","arrayLike","arr","i","l","length","push","px","node","styleProperty","val","ownerDocument","defaultView","getComputedStyle","getPropertyValue","parseFloat","replace","getNodeWidth","leftBorder","rightBorder","clientWidth","getNodeHeight","topBorder","bottomBorder","clientHeight","getImageSize","targetNode","options","width","height","getPixelRatio","ratio","FINAL_PROCESS","process","e","env","devicePixelRatio","parseInt","Number","isNaN","canvasDimensionLimit","checkCanvasDimensions","canvas","createImage","Promise","resolve","reject","img","Image","decode","onload","onerror","crossOrigin","decoding","src","svgToDataURL","svg","then","XMLSerializer","serializeToString","encodeURIComponent","html","nodeToDataURL","xmlns","createElementNS","foreignObject","setAttribute","isInstanceOfElement","instance","nodePrototype","Object","getPrototypeOf","constructor","name","getPseudoElementStyle","className","pseudo","style","selector","cssText","content","formatCSSText","map","value","priority","getPropertyPriority","join","formatCSSProperties","createTextNode","clonePseudoElement","nativeNode","clonedNode","err","styleElement","WOFF","JPEG","mimes","woff","woff2","ttf","eot","png","jpg","jpeg","gif","tiff","webp","getMimeType","extension","exec","getExtension","toLowerCase","getContentFromDataUrl","dataURL","split","isDataUrl","search","makeDataUrl","mimeType","fetchAsDataURL","init","fetch","res","status","Error","blob","reader","FileReader","onloadend","result","error","readAsDataURL","cache","getCacheKey","contentType","includeQueryParams","key","test","resourceToDataURL","resourceUrl","cacheKey","cacheBust","Date","getTime","fetchRequestInit","headers","get","imagePlaceholder","msg","message","console","warn","cloneCanvasElement","toDataURL","cloneNode","cloneVideoElement","video","currentSrc","ctx","getContext","drawImage","poster","cloneIFrameElement","iframe","contentDocument","cloneSingleNode","HTMLCanvasElement","HTMLVideoElement","HTMLIFrameElement","isSlotElement","tagName","toUpperCase","cloneChildren","children","assignedNodes","childNodes","shadowRoot","reduce","deferred","child","clonedChild","decorate","Element","targetStyle","sourceStyle","transformOrigin","forEach","endsWith","reducedFont","floor","substring","getAttribute","setProperty","cloneCSSStyle","clonePseudoElements","HTMLTextAreaElement","innerHTML","HTMLInputElement","cloneInputValue","HTMLSelectElement","clonedSelect","selectedOption","Array","from","find","cloneSelectValue","ensureSVGSymbols","clone","uses","querySelectorAll","processedDefs","use","id","exist","querySelector","definition","nodes","values","ns","position","overflow","display","defs","isRoot","filter","URL_REGEX","URL_WITH_FORMAT_REGEX","FONT_SRC_REGEX","toRegex","escaped","RegExp","parseURLs","urls","raw","quotation","embed","resourceURL","baseURL","getContentFromUrl","resolvedURL","filterPreferredFontFormat","str","preferredFontFormat","format","shouldEmbed","embedResources","filteredCSSText","css","embedProp","propName","propValue","cssString","embedBackground","embedImageNode","isImageElement","HTMLImageElement","SVGImageElement","baseVal","image","loading","srcset","embedChildren","deferreds","embedImages","all","applyStyle","backgroundColor","manual","keys","cssFetchCache","fetchCSS","text","embedFonts","data","regexUrl","fontLocs","loadFonts","loc","startsWith","URL","parseCSS","source","keyframesRegex","matches","importRegex","unifiedRegex","lastIndex","getCSSRules","styleSheets","ret","sheet","cssRules","item","index","type","CSSRule","IMPORT_RULE","importIndex","metadata","rule","insertRule","catch","inline","getWebFontRules","FONT_FACE_RULE","parseWebFontRules","getWebFontCSS","rules","parentStyleSheet","cssTexts","embedWebFonts","fontEmbedCSS","skipFonts","styleNode","sytleContent","firstChild","insertBefore","toSvg","datauri","toCanvas","context","pixelRatio","canvasWidth","canvasHeight","skipAutoScale","fillStyle","fillRect","toPng","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","freeSelf","self","root","Function","freeExports","exports","nodeType","freeModule","module","moduleExports","freeProcess","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","array","predicate","mapToArray","size","setToArray","set","func","transform","arrayProto","prototype","funcProto","objectProto","coreJsData","funcToString","hasOwnProperty","maskSrcKey","uid","IE_PROTO","nativeObjectToString","reIsNative","call","Buffer","undefined","Symbol","Uint8Array","propertyIsEnumerable","splice","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","arg","DataView","getNative","Map","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entries","this","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","arrayLikeKeys","inherited","isArr","isArray","isArg","isArguments","isBuff","isType","skipIndexes","n","iteratee","baseTimes","String","isIndex","assocIndexOf","eq","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","other","bitmask","customizer","stack","object","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","buffer","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othProps","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isObject","isMasked","isFunction","baseKeys","Ctor","proto","isPrototype","arrLength","seen","arrValue","othIndex","has","keysFunc","symbolsFunc","offset","arrayPush","baseGetAllKeys","getSymbols","getMapData","isKeyable","getValue","pop","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","ctorString","arguments","isLength","baseUnary","qrcode","typeNumber","errorCorrectionLevel","_typeNumber","_errorCorrectionLevel","QRErrorCorrectionLevel","_modules","_moduleCount","_dataCache","_dataList","_this","makeImpl","maskPattern","moduleCount","modules","row","col","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","pos","QRUtil","getPatternPosition","j","bits","getBCHTypeNumber","mod","getBCHTypeInfo","inc","bitIndex","byteIndex","maskFunc","getMaskFunction","dark","dataList","rsBlocks","QRRSBlock","getRSBlocks","qrBitBuffer","put","getMode","getLength","getLengthInBits","write","totalDataCount","dataCount","putBit","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","getBuffer","rsPoly","getErrorCorrectPolynomial","modPoly","qrPolynomial","modIndex","getAt","totalCodeCount","createBytes","addData","mode","newData","qrNumber","qrAlphaNum","qr8BitByte","qrKanji","isDark","getModuleCount","make","minLostPoint","pattern","lostPoint","getLostPoint","getBestMaskPattern","createTableTag","cellSize","margin","qrHtml","createSvgTag","alt","title","opts","mr","rect","qrSvg","scalable","escapeXml","trim","createDataURL","min","x","y","createImgTag","s","charAt","createASCII","r1","r2","p","blocks","blocksLastLineNoMargin","ascii","_createHalfASCII","white","black","line","renderTo2dContext","stringToBytes","stringToBytesFuncs","bytes","charCodeAt","createStringToBytes","unicodeData","numChars","unicodeMap","bin","base64DecodeInputStream","read","b","count","b0","b1","v","fromCharCode","unknownChar","QRMode","L","M","Q","H","QRMaskPattern","PATTERN_POSITION_TABLE","G15","G18","getBCHDigit","digit","d","errorCorrectLength","multiply","QRMath","gexp","sameCount","darkCount","abs","EXP_TABLE","LOG_TABLE","num","shift","_num","glog","RS_BLOCK_TABLE","qrRSBlock","rsBlock","getRsBlockTable","list","_buffer","_length","bufIndex","bit","_mode","_data","strToNum","chatToNum","getCode","_bytes","code","byteArrayOutputStream","writeByte","off","len","_str","_pos","_buflen","getPixel","_width","_height","pixel","out","writeString","writeShort","raster","getLZWRaster","writeBytes","lzwMinCodeSize","clearCode","endCode","bitLength","table","lzwTable","byteOut","bitOut","_out","_bitLength","_bitBuffer","bitOutputStream","dataIndex","contains","indexOf","flush","toByteArray","_map","_size","gifImage","setPixel","base64","_base64","writeEncoded","encode","padlen","base64EncodeOutputStream","utf8","charcode","toUTF8Array","define","__extends","extendStatics","setPrototypeOf","__proto__","__","create","defineProperty","QRCode","isEqual","require","qrGenerator","React","ReactDOM","_super","props","createRef","utf16to8","drawRoundedSquare","lineWidth","color","radii","fill","strokeStyle","rTopLeft","rTopRight","rBottomRight","rBottomLeft","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","stroke","drawPositioningPattern","radiiOuter","radiiInner","colorOuter","colorInner","ceil","outer","inner","isInPositioninZone","zones","some","zone","transformPixelLengthIntoNumberOfCells","pixelLength","isCoordinateInImage","dWidthLogo","dHeightLogo","dxLogo","dyLogo","logoImage","firstRowOfLogo","firstColumnOfLogo","logoWidthInCells","logoHeightInCells","shouldComponentUpdate","nextProps","componentDidMount","update","componentDidUpdate","_a","ecLevel","enableCORS","quietZone","bgColor","fgColor","logoWidth","logoHeight","logoOpacity","removeQrCodeBehindLogo","qrStyle","eyeRadius","eyeColor","qrCode","findDOMNode","current","canvasSize","scale","positioningZones","radius","arc","round","PI","w","h","_b","image_1","save","globalAlpha","restore","render","ref","defaultProps","Component"],"sourceRoot":""}